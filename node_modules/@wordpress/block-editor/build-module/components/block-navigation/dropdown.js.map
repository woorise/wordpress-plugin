{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/dropdown.js"],"names":["Button","Dropdown","__","useSelect","useShortcut","store","keyboardShortcutsStore","useCallback","forwardRef","listView","BlockNavigation","blockEditorStore","BlockNavigationDropdownToggle","isEnabled","onToggle","isOpen","innerRef","props","bindGlobal","isDisabled","shortcut","select","getShortcutRepresentation","undefined","BlockNavigationDropdown","ref","__experimentalFeatures","hasBlocks","getBlockCount","onClose"],"mappings":";;;;AAAA;AACA;AACA;AACA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,uBAAjC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SACCC,WADD,EAECC,KAAK,IAAIC,sBAFV,QAGO,+BAHP;AAIA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,oBAAxC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA;AACA;AACA;;AACA,OAAOC,eAAP,MAA4B,IAA5B;AACA,SAASL,KAAK,IAAIM,gBAAlB,QAA0C,aAA1C;;AAEA,SAASC,6BAAT,OAMI;AAAA,MALHC,SAKG,QALHA,SAKG;AAAA,MAJHC,QAIG,QAJHA,QAIG;AAAA,MAHHC,MAGG,QAHHA,MAGG;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADAC,KACA;;AACHb,EAAAA,WAAW,CACV,wCADU,EAEVG,WAAW,CAAEO,QAAF,EAAY,CAAEA,QAAF,CAAZ,CAFD,EAGV;AACCI,IAAAA,UAAU,EAAE,IADb;AAECC,IAAAA,UAAU,EAAE,CAAEN;AAFf,GAHU,CAAX;AAQA,MAAMO,QAAQ,GAAGjB,SAAS,CACzB,UAAEkB,MAAF;AAAA,WACCA,MAAM,CAAEf,sBAAF,CAAN,CAAiCgB,yBAAjC,CACC,wCADD,CADD;AAAA,GADyB,EAKzB,EALyB,CAA1B;AAQA,SACC,cAAC,MAAD,eACML,KADN;AAEC,IAAA,GAAG,EAAGD,QAFP;AAGC,IAAA,IAAI,EAAGP,QAHR;AAIC,qBAAgBM,MAJjB;AAKC,qBAAc,MALf;AAMC,IAAA,OAAO,EAAGF,SAAS,GAAGC,QAAH,GAAcS;AACjC;AAPD;AAQC,IAAA,KAAK,EAAGrB,EAAE,CAAE,WAAF,CARX;AASC,IAAA,SAAS,EAAC,+BATX;AAUC,IAAA,QAAQ,EAAGkB,QAVZ;AAWC,qBAAgB,CAAEP;AAXnB,KADD;AAeA;;AAED,SAASW,uBAAT,QAECC,GAFD,EAGE;AAAA,MAFCN,UAED,SAFCA,UAED;AAAA,MAFaO,sBAEb,SAFaA,sBAEb;AAAA,MAFwCT,KAExC;;AACD,MAAMU,SAAS,GAAGxB,SAAS,CAC1B,UAAEkB,MAAF;AAAA,WAAc,CAAC,CAAEA,MAAM,CAAEV,gBAAF,CAAN,CAA2BiB,aAA3B,EAAjB;AAAA,GAD0B,EAE1B,EAF0B,CAA3B;AAIA,MAAMf,SAAS,GAAGc,SAAS,IAAI,CAAER,UAAjC;AAEA,SACC,cAAC,QAAD;AACC,IAAA,gBAAgB,EAAC,wCADlB;AAEC,IAAA,QAAQ,EAAC,cAFV;AAGC,IAAA,YAAY,EAAG;AAAA,UAAIJ,MAAJ,SAAIA,MAAJ;AAAA,UAAYD,QAAZ,SAAYA,QAAZ;AAAA,aACd,cAAC,6BAAD,eACMG,KADN;AAEC,QAAA,QAAQ,EAAGQ,GAFZ;AAGC,QAAA,MAAM,EAAGV,MAHV;AAIC,QAAA,QAAQ,EAAGD,QAJZ;AAKC,QAAA,SAAS,EAAGD;AALb,SADc;AAAA,KAHhB;AAYC,IAAA,aAAa,EAAG;AAAA,UAAIgB,OAAJ,SAAIA,OAAJ;AAAA,aACf,cAAC,eAAD;AACC,QAAA,QAAQ,EAAGA,OADZ;AAEC,QAAA,sBAAsB,EAAGH;AAF1B,QADe;AAAA;AAZjB,IADD;AAqBA;;AAED,eAAelB,UAAU,CAAEgB,uBAAF,CAAzB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useCallback, forwardRef } from '@wordpress/element';\nimport { listView } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigation from './';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockNavigationDropdownToggle( {\n\tisEnabled,\n\tonToggle,\n\tisOpen,\n\tinnerRef,\n\t...props\n} ) {\n\tuseShortcut(\n\t\t'core/edit-post/toggle-block-navigation',\n\t\tuseCallback( onToggle, [ onToggle ] ),\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\tisDisabled: ! isEnabled,\n\t\t}\n\t);\n\tconst shortcut = useSelect(\n\t\t( select ) =>\n\t\t\tselect( keyboardShortcutsStore ).getShortcutRepresentation(\n\t\t\t\t'core/edit-post/toggle-block-navigation'\n\t\t\t),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ innerRef }\n\t\t\ticon={ listView }\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-haspopup=\"true\"\n\t\t\tonClick={ isEnabled ? onToggle : undefined }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'List view' ) }\n\t\t\tclassName=\"block-editor-block-navigation\"\n\t\t\tshortcut={ shortcut }\n\t\t\taria-disabled={ ! isEnabled }\n\t\t/>\n\t);\n}\n\nfunction BlockNavigationDropdown(\n\t{ isDisabled, __experimentalFeatures, ...props },\n\tref\n) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( blockEditorStore ).getBlockCount(),\n\t\t[]\n\t);\n\tconst isEnabled = hasBlocks && ! isDisabled;\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-block-navigation__popover\"\n\t\t\tposition=\"bottom right\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<BlockNavigationDropdownToggle\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tinnerRef={ ref }\n\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\tonToggle={ onToggle }\n\t\t\t\t\tisEnabled={ isEnabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<BlockNavigation\n\t\t\t\t\tonSelect={ onClose }\n\t\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\n\t\t\t\t/>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( BlockNavigationDropdown );\n"]}