{"version":3,"sources":["@wordpress/block-editor/src/components/plain-text/index.native.js"],"names":["TextInput","Platform","Component","styles","PlainText","arguments","isAndroid","OS","_input","isFocused","props","isSelected","timeoutID","setTimeout","focus","prevProps","blur","clearTimeout","x","event","onChange","nativeEvent","text","onFocus","onBlur","style","fontFamily"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,cAApC;AAEA;AACA;AACA;;AACA,SAASC,SAAT,QAA0B,oBAA1B;AAEA;AACA;AACA;;AACA,OAAOC,MAAP,MAAmB,cAAnB;;IAEqBC,S;;;;;AACpB,uBAAc;AAAA;;AAAA;;AACb,+BAAUC,SAAV;AACA,UAAKC,SAAL,GAAiBL,QAAQ,CAACM,EAAT,KAAgB,SAAjC;AAFa;AAGb;;;;WAED,6BAAoB;AAAA;;AACnB;AACA,UAAK,KAAKC,MAAL,CAAYC,SAAZ,OAA4B,KAA5B,IAAqC,KAAKC,KAAL,CAAWC,UAArD,EAAkE;AACjE,YAAK,KAAKL,SAAV,EAAsB;AACrB;AACJ;AACA;AACA;AACA;AACI,eAAKM,SAAL,GAAiBC,UAAU,CAAE,YAAM;AAClC,YAAA,MAAI,CAACL,MAAL,CAAYM,KAAZ;AACA,WAF0B,EAExB,GAFwB,CAA3B;AAGA,SATD,MASO;AACN,eAAKN,MAAL,CAAYM,KAAZ;AACA;AACD;AACD;;;WAED,4BAAoBC,SAApB,EAAgC;AAC/B,UAAK,CAAE,KAAKL,KAAL,CAAWC,UAAb,IAA2BI,SAAS,CAACJ,UAA1C,EAAuD;AACtD,aAAKH,MAAL,CAAYQ,IAAZ;AACA;AACD;;;WAED,gCAAuB;AACtB,UAAK,KAAKV,SAAV,EAAsB;AACrBW,QAAAA,YAAY,CAAE,KAAKL,SAAP,CAAZ;AACA;AACD;;;WAED,iBAAQ;AACP,WAAKJ,MAAL,CAAYM,KAAZ;AACA;;;WAED,gBAAO;AACN,WAAKN,MAAL,CAAYQ,IAAZ;AACA;;;WAED,kBAAS;AAAA;;AACR,aACC,cAAC,SAAD,eACM,KAAKN,KADX;AAEC,QAAA,GAAG,EAAG,aAAEQ,CAAF;AAAA,iBAAW,MAAI,CAACV,MAAL,GAAcU,CAAzB;AAAA,SAFP;AAGC,QAAA,QAAQ,EAAG,kBAAEC,KAAF,EAAa;AACvB,UAAA,MAAI,CAACT,KAAL,CAAWU,QAAX,CAAqBD,KAAK,CAACE,WAAN,CAAkBC,IAAvC;AACA,SALF;AAMC,QAAA,OAAO,EAAG,KAAKZ,KAAL,CAAWa,OANtB,CAMgC;AANhC;AAOC,QAAA,MAAM,EAAG,KAAKb,KAAL,CAAWc,MAPrB,CAO8B;AAP9B;AAQC,QAAA,UAAU,EACP,KAAKd,KAAL,CAAWe,KAAX,IAAoB,KAAKf,KAAL,CAAWe,KAAX,CAAiBC,UAAvC,IACAvB,MAAM,CAAE,yBAAF,CAAN,CAAoCuB,UAVtC;AAYC,QAAA,KAAK,EACJ,KAAKhB,KAAL,CAAWe,KAAX,IAAoBtB,MAAM,CAAE,yBAAF,CAb5B;AAeC,QAAA,aAAa,EAAG;AAfjB,SADD;AAmBA;;;;EAhEqCD,S;;SAAlBE,S","sourcesContent":["/**\n * External dependencies\n */\nimport { TextInput, Platform } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nexport default class PlainText extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.isAndroid = Platform.OS === 'android';\n\t}\n\n\tcomponentDidMount() {\n\t\t// if isSelected is true, we should request the focus on this TextInput\n\t\tif ( this._input.isFocused() === false && this.props.isSelected ) {\n\t\t\tif ( this.isAndroid ) {\n\t\t\t\t/*\n\t\t\t\t * There seems to be an issue in React Native where the keyboard doesn't show if called shortly after rendering.\n\t\t\t\t * As a common work around this delay is used.\n\t\t\t\t * https://github.com/facebook/react-native/issues/19366#issuecomment-400603928\n\t\t\t\t */\n\t\t\t\tthis.timeoutID = setTimeout( () => {\n\t\t\t\t\tthis._input.focus();\n\t\t\t\t}, 100 );\n\t\t\t} else {\n\t\t\t\tthis._input.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( ! this.props.isSelected && prevProps.isSelected ) {\n\t\t\tthis._input.blur();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.isAndroid ) {\n\t\t\tclearTimeout( this.timeoutID );\n\t\t}\n\t}\n\n\tfocus() {\n\t\tthis._input.focus();\n\t}\n\n\tblur() {\n\t\tthis._input.blur();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TextInput\n\t\t\t\t{ ...this.props }\n\t\t\t\tref={ ( x ) => ( this._input = x ) }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\tthis.props.onChange( event.nativeEvent.text );\n\t\t\t\t} }\n\t\t\t\tonFocus={ this.props.onFocus } // always assign onFocus as a props\n\t\t\t\tonBlur={ this.props.onBlur } // always assign onBlur as a props\n\t\t\t\tfontFamily={\n\t\t\t\t\t( this.props.style && this.props.style.fontFamily ) ||\n\t\t\t\t\tstyles[ 'block-editor-plain-text' ].fontFamily\n\t\t\t\t}\n\t\t\t\tstyle={\n\t\t\t\t\tthis.props.style || styles[ 'block-editor-plain-text' ]\n\t\t\t\t}\n\t\t\t\tscrollEnabled={ false }\n\t\t\t/>\n\t\t);\n\t}\n}\n"]}