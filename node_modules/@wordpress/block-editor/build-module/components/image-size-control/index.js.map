{"version":3,"sources":["@wordpress/block-editor/src/components/image-size-control/index.js"],"names":["isEmpty","noop","Button","ButtonGroup","SelectControl","TextControl","__","IMAGE_SIZE_PRESETS","ImageSizeControl","imageWidth","imageHeight","imageSizeOptions","isResizable","slug","width","height","onChange","onChangeImage","updateDimensions","nextWidth","nextHeight","value","parseInt","map","scale","scaledWidth","Math","round","scaledHeight","isCurrent"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tButtonGroup,\n\tSelectControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst IMAGE_SIZE_PRESETS = [ 25, 50, 75, 100 ];\n\nexport default function ImageSizeControl( {\n\timageWidth,\n\timageHeight,\n\timageSizeOptions = [],\n\tisResizable = true,\n\tslug,\n\twidth,\n\theight,\n\tonChange,\n\tonChangeImage = noop,\n} ) {\n\tfunction updateDimensions( nextWidth, nextHeight ) {\n\t\treturn () => {\n\t\t\tonChange( { width: nextWidth, height: nextHeight } );\n\t\t};\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ ! isEmpty( imageSizeOptions ) && (\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\tvalue={ slug }\n\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\tonChange={ onChangeImage }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isResizable && (\n\t\t\t\t<div className=\"block-editor-image-size-control\">\n\t\t\t\t\t<p className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t{ __( 'Image dimensions' ) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__width\"\n\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\tvalue={ width ?? imageWidth ?? '' }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tonChange( { width: parseInt( value, 10 ) } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__height\"\n\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\tvalue={ height ?? imageHeight ?? '' }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\theight: parseInt( value, 10 ),\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t<ButtonGroup aria-label={ __( 'Image size presets' ) }>\n\t\t\t\t\t\t\t{ IMAGE_SIZE_PRESETS.map( ( scale ) => {\n\t\t\t\t\t\t\t\tconst scaledWidth = Math.round(\n\t\t\t\t\t\t\t\t\timageWidth * ( scale / 100 )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconst scaledHeight = Math.round(\n\t\t\t\t\t\t\t\t\timageHeight * ( scale / 100 )\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst isCurrent =\n\t\t\t\t\t\t\t\t\twidth === scaledWidth &&\n\t\t\t\t\t\t\t\t\theight === scaledHeight;\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={ scale }\n\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\tisPrimary={ isCurrent }\n\t\t\t\t\t\t\t\t\t\tisPressed={ isCurrent }\n\t\t\t\t\t\t\t\t\t\tonClick={ updateDimensions(\n\t\t\t\t\t\t\t\t\t\t\tscaledWidth,\n\t\t\t\t\t\t\t\t\t\t\tscaledHeight\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ scale }%\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t<Button isSmall onClick={ updateDimensions() }>\n\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</>\n\t);\n}\n"]}