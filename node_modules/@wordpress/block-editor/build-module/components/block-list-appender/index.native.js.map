{"version":3,"sources":["@wordpress/block-editor/src/components/block-list-appender/index.native.js"],"names":["last","withSelect","getDefaultBlockName","DefaultBlockAppender","styles","store","blockEditorStore","BlockListAppender","blockClientIds","rootClientId","canInsertDefaultBlock","isLocked","CustomAppender","renderAppender","showSeparator","blockListAppender","length","select","getBlockOrder","canInsertBlockType","getTemplateLock"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,IAAT,QAAqB,QAArB;AAEA;AACA;AACA;;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,mBAAT,QAAoC,mBAApC;AAEA;AACA;AACA;;AACA,OAAOC,oBAAP,MAAiC,2BAAjC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;;AAEA,SAASC,iBAAT,OAOI;AAAA,MANHC,cAMG,QANHA,cAMG;AAAA,MALHC,YAKG,QALHA,YAKG;AAAA,MAJHC,qBAIG,QAJHA,qBAIG;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFaC,cAEb,QAFHC,cAEG;AAAA,MADHC,aACG,QADHA,aACG;;AACH,MAAKH,QAAL,EAAgB;AACf,WAAO,IAAP;AACA;;AAED,MAAKC,cAAL,EAAsB;AACrB,WAAO,cAAC,cAAD;AAAgB,MAAA,aAAa,EAAGE;AAAhC,MAAP;AACA;;AAED,MAAKJ,qBAAL,EAA6B;AAC5B,WACC,cAAC,oBAAD;AACC,MAAA,YAAY,EAAGD,YADhB;AAEC,MAAA,iBAAiB,EAAGT,IAAI,CAAEQ,cAAF,CAFzB;AAGC,MAAA,cAAc,EAAGJ,MAAM,CAACW,iBAHzB;AAIC,MAAA,WAAW,EAAGP,cAAc,CAACQ,MAAf,GAAwB,CAAxB,GAA4B,EAA5B,GAAiC,IAJhD;AAKC,MAAA,aAAa,EAAGF;AALjB,MADD;AASA;;AAED,SAAO,IAAP;AACA;;AAED,eAAeb,UAAU,CAAE,UAAEgB,MAAF,SAAgC;AAAA,MAApBR,YAAoB,SAApBA,YAAoB;;AAAA,gBACKQ,MAAM,CACpEX,gBADoE,CADX;AAAA,MAClDY,aADkD,WAClDA,aADkD;AAAA,MACnCC,kBADmC,WACnCA,kBADmC;AAAA,MACfC,eADe,WACfA,eADe;;AAK1D,SAAO;AACNT,IAAAA,QAAQ,EAAE,CAAC,CAAES,eAAe,CAAEX,YAAF,CADtB;AAEND,IAAAA,cAAc,EAAEU,aAAa,CAAET,YAAF,CAFvB;AAGNC,IAAAA,qBAAqB,EAAES,kBAAkB,CACxCjB,mBAAmB,EADqB,EAExCO,YAFwC;AAHnC,GAAP;AAQA,CAbwB,CAAV,CAaVF,iBAbU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { last } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockListAppender( {\n\tblockClientIds,\n\trootClientId,\n\tcanInsertDefaultBlock,\n\tisLocked,\n\trenderAppender: CustomAppender,\n\tshowSeparator,\n} ) {\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tif ( CustomAppender ) {\n\t\treturn <CustomAppender showSeparator={ showSeparator } />;\n\t}\n\n\tif ( canInsertDefaultBlock ) {\n\t\treturn (\n\t\t\t<DefaultBlockAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tlastBlockClientId={ last( blockClientIds ) }\n\t\t\t\tcontainerStyle={ styles.blockListAppender }\n\t\t\t\tplaceholder={ blockClientIds.length > 0 ? '' : null }\n\t\t\t\tshowSeparator={ showSeparator }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n}\n\nexport default withSelect( ( select, { rootClientId } ) => {\n\tconst { getBlockOrder, canInsertBlockType, getTemplateLock } = select(\n\t\tblockEditorStore\n\t);\n\n\treturn {\n\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\tgetDefaultBlockName(),\n\t\t\trootClientId\n\t\t),\n\t};\n} )( BlockListAppender );\n"]}