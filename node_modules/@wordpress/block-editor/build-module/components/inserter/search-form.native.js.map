{"version":3,"sources":["@wordpress/block-editor/src/components/inserter/search-form.native.js"],"names":["TextInput","View","TouchableHighlight","useState","useRef","usePreferredColorSchemeStyle","__","ToolbarButton","Icon","cancelCircleFilled","arrowLeft","search","searchIcon","styles","InserterSearchForm","value","onChange","onLayout","isActive","setIsActive","inputRef","searchFormStyle","searchForm","searchFormDark","searchFormInputStyle","searchFormInput","searchFormInputDark","placeholderStyle","searchFormPlaceholder","searchFormPlaceholderDark","current","blur","focus","color"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,kBAA1B,QAAoD,cAApD;AAEA;AACA;AACA;;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,oBAAjC;AACA,SAASC,4BAAT,QAA6C,oBAA7C;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SACCC,IADD,EAECC,kBAFD,EAGCC,SAHD,EAICC,MAAM,IAAIC,UAJX,QAKO,kBALP;AAOA;AACA;AACA;;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,SAASC,kBAAT,OAAwE;AAAA,MAAzCC,KAAyC,QAAzCA,KAAyC;AAAA,MAAlCC,QAAkC,QAAlCA,QAAkC;AAAA,2BAAxBC,QAAwB;AAAA,MAAxBA,QAAwB,8BAAb,YAAM,CAAE,CAAK;;AAAA,kBACrCd,QAAQ,CAAE,KAAF,CAD6B;AAAA;AAAA,MAC/De,QAD+D;AAAA,MACrDC,WADqD;;AAGvE,MAAMC,QAAQ,GAAGhB,MAAM,EAAvB;AAEA,MAAMiB,eAAe,GAAGhB,4BAA4B,CACnDQ,MAAM,CAACS,UAD4C,EAEnDT,MAAM,CAACU,cAF4C,CAApD;AAKA,MAAMC,oBAAoB,GAAGnB,4BAA4B,CACxDQ,MAAM,CAACY,eADiD,EAExDZ,MAAM,CAACa,mBAFiD,CAAzD;AAKA,MAAMC,gBAAgB,GAAGtB,4BAA4B,CACpDQ,MAAM,CAACe,qBAD6C,EAEpDf,MAAM,CAACgB,yBAF6C,CAArD;AAKA,SACC,cAAC,kBAAD;AAAoB,IAAA,UAAU,EAAG,KAAjC;AAAyC,IAAA,QAAQ,EAAGZ;AAApD,KACC,cAAC,IAAD;AAAM,IAAA,KAAK,EAAGI;AAAd,KACGH,QAAQ,GACT,cAAC,aAAD;AACC,IAAA,KAAK,EAAGZ,EAAE,CAAE,eAAF,CADX;AAEC,IAAA,IAAI,EAAGI,SAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfU,MAAAA,QAAQ,CAACU,OAAT,CAAiBC,IAAjB;AACAf,MAAAA,QAAQ,CAAE,EAAF,CAAR;AACAG,MAAAA,WAAW,CAAE,KAAF,CAAX;AACA;AAPF,IADS,GAWT,cAAC,aAAD;AACC,IAAA,KAAK,EAAGb,EAAE,CAAE,cAAF,CADX;AAEC,IAAA,IAAI,EAAGM,UAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfQ,MAAAA,QAAQ,CAACU,OAAT,CAAiBE,KAAjB;AACAb,MAAAA,WAAW,CAAE,IAAF,CAAX;AACA;AANF,IAZF,EAqBC,cAAC,SAAD;AACC,IAAA,GAAG,EAAGC,QADP;AAEC,IAAA,KAAK,EAAGI,oBAFT;AAGC,IAAA,oBAAoB,EAAGG,gBAAgB,CAACM,KAHzC;AAIC,IAAA,YAAY,EAAGjB,QAJhB;AAKC,IAAA,OAAO,EAAG;AAAA,aAAMG,WAAW,CAAE,IAAF,CAAjB;AAAA,KALX;AAMC,IAAA,KAAK,EAAGJ,KANT;AAOC,IAAA,WAAW,EAAGT,EAAE,CAAE,eAAF;AAPjB,IArBD,EA+BG,CAAC,CAAES,KAAH,IACD,cAAC,aAAD;AACC,IAAA,KAAK,EAAGT,EAAE,CAAE,cAAF,CADX;AAEC,IAAA,IAAI,EAAG,cAAC,IAAD;AAAM,MAAA,IAAI,EAAGG;AAAb,MAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfO,MAAAA,QAAQ,CAAE,EAAF,CAAR;AACA;AALF,IAhCF,CADD,CADD;AA6CA;;AAED,eAAeF,kBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { TextInput, View, TouchableHighlight } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useRef } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { ToolbarButton } from '@wordpress/components';\nimport {\n\tIcon,\n\tcancelCircleFilled,\n\tarrowLeft,\n\tsearch as searchIcon,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nfunction InserterSearchForm( { value, onChange, onLayout = () => {} } ) {\n\tconst [ isActive, setIsActive ] = useState( false );\n\n\tconst inputRef = useRef();\n\n\tconst searchFormStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchForm,\n\t\tstyles.searchFormDark\n\t);\n\n\tconst searchFormInputStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchFormInput,\n\t\tstyles.searchFormInputDark\n\t);\n\n\tconst placeholderStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchFormPlaceholder,\n\t\tstyles.searchFormPlaceholderDark\n\t);\n\n\treturn (\n\t\t<TouchableHighlight accessible={ false } onLayout={ onLayout }>\n\t\t\t<View style={ searchFormStyle }>\n\t\t\t\t{ isActive ? (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Cancel search' ) }\n\t\t\t\t\t\ticon={ arrowLeft }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tinputRef.current.blur();\n\t\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\t\tsetIsActive( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Search block' ) }\n\t\t\t\t\t\ticon={ searchIcon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tinputRef.current.focus();\n\t\t\t\t\t\t\tsetIsActive( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<TextInput\n\t\t\t\t\tref={ inputRef }\n\t\t\t\t\tstyle={ searchFormInputStyle }\n\t\t\t\t\tplaceholderTextColor={ placeholderStyle.color }\n\t\t\t\t\tonChangeText={ onChange }\n\t\t\t\t\tonFocus={ () => setIsActive( true ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tplaceholder={ __( 'Search blocks' ) }\n\t\t\t\t/>\n\n\t\t\t\t{ !! value && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Clear search' ) }\n\t\t\t\t\t\ticon={ <Icon icon={ cancelCircleFilled } /> }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</TouchableHighlight>\n\t);\n}\n\nexport default InserterSearchForm;\n"]}