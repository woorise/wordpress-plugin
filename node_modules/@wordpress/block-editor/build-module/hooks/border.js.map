{"version":3,"sources":["@wordpress/block-editor/src/hooks/border.js"],"names":["getBlockSupport","PanelBody","Platform","__","InspectorControls","BorderRadiusEdit","useIsBorderRadiusDisabled","BORDER_SUPPORT_KEY","BorderPanel","props","isDisabled","useIsBorderDisabled","isSupported","hasBorderSupport","name","blockName","OS","support","radius","configs","every","Boolean"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,eAAT,QAAgC,mBAAhC;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;AACA;AACA;;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,SAASC,gBAAT,EAA2BC,yBAA3B,QAA4D,iBAA5D;AAEA,OAAO,IAAMC,kBAAkB,GAAG,sBAA3B;AAEP,OAAO,SAASC,WAAT,CAAsBC,KAAtB,EAA8B;AACpC,MAAMC,UAAU,GAAGC,mBAAmB,CAAEF,KAAF,CAAtC;AACA,MAAMG,WAAW,GAAGC,gBAAgB,CAAEJ,KAAK,CAACK,IAAR,CAApC;;AAEA,MAAKJ,UAAU,IAAI,CAAEE,WAArB,EAAmC;AAClC,WAAO,IAAP;AACA;;AAED,SACC,cAAC,iBAAD,QACC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAGT,EAAE,CAAE,iBAAF;AAArB,KACC,cAAC,gBAAD,EAAuBM,KAAvB,CADD,CADD,CADD;AAOA;AAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,gBAAT,CAA2BE,SAA3B,EAAuC;AAC7C,MAAKb,QAAQ,CAACc,EAAT,KAAgB,KAArB,EAA6B;AAC5B,WAAO,KAAP;AACA;;AAED,MAAMC,OAAO,GAAGjB,eAAe,CAAEe,SAAF,EAAaR,kBAAb,CAA/B,CAL6C,CAO7C;AACA;;AACA,SAAO,CAAC,EAAI,SAASU,OAAT,IAAoBA,OAApB,aAAoBA,OAApB,eAAoBA,OAAO,CAAEC,MAAjC,CAAR;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAMP,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAkB;AAAA,MAAhBF,KAAgB,uEAAR,EAAQ;AAC7C;AACA;AACA;AACA;AACA;AACA,MAAMU,OAAO,GAAG,CAAEb,yBAAyB,CAAEG,KAAF,CAA3B,CAAhB;AACA,SAAOU,OAAO,CAACC,KAAR,CAAeC,OAAf,CAAP;AACA,CARD","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getBlockSupport } from '@wordpress/blocks';\nimport { PanelBody } from '@wordpress/components';\nimport { Platform } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport InspectorControls from '../components/inspector-controls';\nimport { BorderRadiusEdit, useIsBorderRadiusDisabled } from './border-radius';\n\nexport const BORDER_SUPPORT_KEY = '__experimentalBorder';\n\nexport function BorderPanel( props ) {\n\tconst isDisabled = useIsBorderDisabled( props );\n\tconst isSupported = hasBorderSupport( props.name );\n\n\tif ( isDisabled || ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Border settings' ) }>\n\t\t\t\t<BorderRadiusEdit { ...props } />\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n\n/**\n * Determine whether there is block support for borders.\n *\n * @param {string} blockName Block name.\n * @return {boolean}         Whether there is support.\n */\nexport function hasBorderSupport( blockName ) {\n\tif ( Platform.OS !== 'web' ) {\n\t\treturn false;\n\t}\n\n\tconst support = getBlockSupport( blockName, BORDER_SUPPORT_KEY );\n\n\t// Further border properties to be added in future iterations.\n\t// e.g. support && ( support.radius || support.width || support.style )\n\treturn !! ( true === support || support?.radius );\n}\n\n/**\n * Determines whether there is any block support for borders e.g. border radius,\n * style, width etc.\n *\n * @param  {Object} props Block properties.\n * @return {boolean}      If border support is completely disabled.\n */\nconst useIsBorderDisabled = ( props = {} ) => {\n\t// Further border properties to be added in future iterations.\n\t// e.g. const configs = [\n\t// \t\tuseIsBorderRadiusDisabled( props ),\n\t//\t\tuseIsBorderWidthDisabled( props ),\n\t// ];\n\tconst configs = [ useIsBorderRadiusDisabled( props ) ];\n\treturn configs.every( Boolean );\n};\n"]}