{"version":3,"sources":["@wordpress/block-editor/src/components/font-appearance-control/index.js"],"names":["FONT_STYLES","name","value","FONT_WEIGHTS","FontAppearanceControl","props","onChange","hasFontStyles","hasFontWeights","fontStyle","fontWeight","hasStylesOrWeights","defaultOption","key","style","undefined","combineOptions","combinedOptions","forEach","styleName","styleValue","weightName","weightValue","optionName","push","styleOptions","weightOptions","selectOptions","options","currentSelection","find","option","getLabel","selectedItem"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { CustomSelectControl } from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\n\nconst FONT_STYLES = [\n\t{\n\t\tname: __( 'Regular' ),\n\t\tvalue: 'normal',\n\t},\n\t{\n\t\tname: __( 'Italic' ),\n\t\tvalue: 'italic',\n\t},\n];\n\nconst FONT_WEIGHTS = [\n\t{\n\t\tname: __( 'Thin' ),\n\t\tvalue: '100',\n\t},\n\t{\n\t\tname: __( 'Extra Light' ),\n\t\tvalue: '200',\n\t},\n\t{\n\t\tname: __( 'Light' ),\n\t\tvalue: '300',\n\t},\n\t{\n\t\tname: __( 'Regular' ),\n\t\tvalue: '400',\n\t},\n\t{\n\t\tname: __( 'Medium' ),\n\t\tvalue: '500',\n\t},\n\t{\n\t\tname: __( 'Semi Bold' ),\n\t\tvalue: '600',\n\t},\n\t{\n\t\tname: __( 'Bold' ),\n\t\tvalue: '700',\n\t},\n\t{\n\t\tname: __( 'Extra Bold' ),\n\t\tvalue: '800',\n\t},\n\t{\n\t\tname: __( 'Black' ),\n\t\tvalue: '900',\n\t},\n];\n\n/**\n * Control to display unified font style and weight options.\n *\n * @param  {Object}   props Component props.\n * @return {WPElement}      Font appearance control.\n */\nexport default function FontAppearanceControl( props ) {\n\tconst {\n\t\tonChange,\n\t\thasFontStyles = true,\n\t\thasFontWeights = true,\n\t\tvalue: { fontStyle, fontWeight },\n\t} = props;\n\tconst hasStylesOrWeights = hasFontStyles || hasFontWeights;\n\tconst defaultOption = {\n\t\tkey: 'default',\n\t\tname: __( 'Default' ),\n\t\tstyle: { fontStyle: undefined, fontWeight: undefined },\n\t};\n\n\t// Combines both font style and weight options into a single dropdown.\n\tconst combineOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\n\t\tFONT_STYLES.forEach( ( { name: styleName, value: styleValue } ) => {\n\t\t\tFONT_WEIGHTS.forEach(\n\t\t\t\t( { name: weightName, value: weightValue } ) => {\n\t\t\t\t\tconst optionName =\n\t\t\t\t\t\tstyleValue === 'normal'\n\t\t\t\t\t\t\t? weightName\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: Font weight name. 2: Font style name. */\n\t\t\t\t\t\t\t\t\t__( '%1$s %2$s' ),\n\t\t\t\t\t\t\t\t\tweightName,\n\t\t\t\t\t\t\t\t\tstyleName\n\t\t\t\t\t\t\t  );\n\n\t\t\t\t\tcombinedOptions.push( {\n\t\t\t\t\t\tkey: `${ styleValue }-${ weightValue }`,\n\t\t\t\t\t\tname: optionName,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfontStyle: styleValue,\n\t\t\t\t\t\t\tfontWeight: weightValue,\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t);\n\t\t} );\n\n\t\treturn combinedOptions;\n\t};\n\n\t// Generates select options for font styles only.\n\tconst styleOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\t\tFONT_STYLES.forEach( ( { name, value } ) => {\n\t\t\tcombinedOptions.push( {\n\t\t\t\tkey: value,\n\t\t\t\tname,\n\t\t\t\tstyle: { fontStyle: value, fontWeight: undefined },\n\t\t\t} );\n\t\t} );\n\t\treturn combinedOptions;\n\t};\n\n\t// Generates select options for font weights only.\n\tconst weightOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\t\tFONT_WEIGHTS.forEach( ( { name, value } ) => {\n\t\t\tcombinedOptions.push( {\n\t\t\t\tkey: value,\n\t\t\t\tname,\n\t\t\t\tstyle: { fontStyle: undefined, fontWeight: value },\n\t\t\t} );\n\t\t} );\n\t\treturn combinedOptions;\n\t};\n\n\t// Map font styles and weights to select options.\n\tconst selectOptions = useMemo( () => {\n\t\tif ( hasFontStyles && hasFontWeights ) {\n\t\t\treturn combineOptions();\n\t\t}\n\n\t\treturn hasFontStyles ? styleOptions() : weightOptions();\n\t}, [ props.options ] );\n\n\t// Find current selection by comparing font style & weight against options.\n\tconst currentSelection = selectOptions.find(\n\t\t( option ) =>\n\t\t\toption.style.fontStyle === fontStyle &&\n\t\t\toption.style.fontWeight === fontWeight\n\t);\n\n\t// Adjusts field label in case either styles or weights are disabled.\n\tconst getLabel = () => {\n\t\tif ( ! hasFontStyles ) {\n\t\t\treturn __( 'Font weight' );\n\t\t}\n\n\t\tif ( ! hasFontWeights ) {\n\t\t\treturn __( 'Font style' );\n\t\t}\n\n\t\treturn __( 'Appearance' );\n\t};\n\n\treturn (\n\t\t<fieldset className=\"components-font-appearance-control\">\n\t\t\t{ hasStylesOrWeights && (\n\t\t\t\t<CustomSelectControl\n\t\t\t\t\tclassName=\"components-font-appearance-control__select\"\n\t\t\t\t\tlabel={ getLabel() }\n\t\t\t\t\toptions={ selectOptions }\n\t\t\t\t\tvalue={ currentSelection }\n\t\t\t\t\tonChange={ ( { selectedItem } ) =>\n\t\t\t\t\t\tonChange( selectedItem.style )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n}\n"]}