{"version":3,"sources":["@wordpress/block-editor/src/components/block-inspector/index.js"],"names":["BlockInspector","showNoBlockSelectedMessage","bubblesVirtually","select","blockEditorStore","getSelectedBlockClientId","getSelectedBlockCount","getBlockName","blocksStore","getBlockStyles","_selectedBlockClientId","_selectedBlockName","_blockType","blockStyles","count","selectedBlockClientId","selectedBlockName","blockType","hasBlockStyles","length","isSelectedBlockUnregistered","name","BlockInspectorSingleBlock","clientId","blockName","blockInformation","InspectorAdvancedControls","slotName","AdvancedControls","slot","hasFills","Boolean","fills"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tgetUnregisteredTypeHandlerName,\n\thasBlockSupport,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport {\n\tPanelBody,\n\t__experimentalUseSlot as useSlot,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SkipToSelectedBlock from '../skip-to-selected-block';\nimport BlockCard from '../block-card';\nimport InspectorControls from '../inspector-controls';\nimport InspectorAdvancedControls from '../inspector-advanced-controls';\nimport BlockStyles from '../block-styles';\nimport MultiSelectionInspector from '../multi-selection-inspector';\nimport DefaultStylePicker from '../default-style-picker';\nimport BlockVariationTransforms from '../block-variation-transforms';\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport { store as blockEditorStore } from '../../store';\n\nconst BlockInspector = ( {\n\tshowNoBlockSelectedMessage = true,\n\tbubblesVirtually = true,\n} ) => {\n\tconst {\n\t\tcount,\n\t\thasBlockStyles,\n\t\tselectedBlockName,\n\t\tselectedBlockClientId,\n\t\tblockType,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetSelectedBlockCount,\n\t\t\tgetBlockName,\n\t\t} = select( blockEditorStore );\n\t\tconst { getBlockStyles } = select( blocksStore );\n\n\t\tconst _selectedBlockClientId = getSelectedBlockClientId();\n\t\tconst _selectedBlockName =\n\t\t\t_selectedBlockClientId && getBlockName( _selectedBlockClientId );\n\t\tconst _blockType =\n\t\t\t_selectedBlockName && getBlockType( _selectedBlockName );\n\t\tconst blockStyles =\n\t\t\t_selectedBlockName && getBlockStyles( _selectedBlockName );\n\n\t\treturn {\n\t\t\tcount: getSelectedBlockCount(),\n\t\t\tselectedBlockClientId: _selectedBlockClientId,\n\t\t\tselectedBlockName: _selectedBlockName,\n\t\t\tblockType: _blockType,\n\t\t\thasBlockStyles: blockStyles && blockStyles.length > 0,\n\t\t};\n\t}, [] );\n\n\tif ( count > 1 ) {\n\t\treturn (\n\t\t\t<div className=\"block-editor-block-inspector\">\n\t\t\t\t<MultiSelectionInspector />\n\t\t\t\t<InspectorControls.Slot bubblesVirtually={ bubblesVirtually } />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst isSelectedBlockUnregistered =\n\t\tselectedBlockName === getUnregisteredTypeHandlerName();\n\n\t/*\n\t * If the selected block is of an unregistered type, avoid showing it as an actual selection\n\t * because we want the user to focus on the unregistered block warning, not block settings.\n\t */\n\tif (\n\t\t! blockType ||\n\t\t! selectedBlockClientId ||\n\t\tisSelectedBlockUnregistered\n\t) {\n\t\tif ( showNoBlockSelectedMessage ) {\n\t\t\treturn (\n\t\t\t\t<span className=\"block-editor-block-inspector__no-blocks\">\n\t\t\t\t\t{ __( 'No block selected.' ) }\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BlockInspectorSingleBlock\n\t\t\tclientId={ selectedBlockClientId }\n\t\t\tblockName={ blockType.name }\n\t\t\thasBlockStyles={ hasBlockStyles }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t/>\n\t);\n};\n\nconst BlockInspectorSingleBlock = ( {\n\tclientId,\n\tblockName,\n\thasBlockStyles,\n\tbubblesVirtually,\n} ) => {\n\tconst blockInformation = useBlockDisplayInformation( clientId );\n\treturn (\n\t\t<div className=\"block-editor-block-inspector\">\n\t\t\t<BlockCard { ...blockInformation } />\n\t\t\t<BlockVariationTransforms blockClientId={ clientId } />\n\t\t\t{ hasBlockStyles && (\n\t\t\t\t<div>\n\t\t\t\t\t<PanelBody title={ __( 'Styles' ) }>\n\t\t\t\t\t\t<BlockStyles clientId={ clientId } />\n\t\t\t\t\t\t{ hasBlockSupport(\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\t'defaultStylePicker',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t) && <DefaultStylePicker blockName={ blockName } /> }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<InspectorControls.Slot bubblesVirtually={ bubblesVirtually } />\n\t\t\t<div>\n\t\t\t\t<AdvancedControls\n\t\t\t\t\tslotName={ InspectorAdvancedControls.slotName }\n\t\t\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SkipToSelectedBlock key=\"back\" />\n\t\t</div>\n\t);\n};\n\nconst AdvancedControls = ( { slotName, bubblesVirtually } ) => {\n\tconst slot = useSlot( slotName );\n\tconst hasFills = Boolean( slot.fills && slot.fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"block-editor-block-inspector__advanced\"\n\t\t\ttitle={ __( 'Advanced' ) }\n\t\t\tinitialOpen={ false }\n\t\t>\n\t\t\t<InspectorAdvancedControls.Slot\n\t\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n};\n\nexport default BlockInspector;\n"]}