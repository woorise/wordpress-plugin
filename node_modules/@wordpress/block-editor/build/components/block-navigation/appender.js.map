{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/appender.js"],"names":["BlockNavigationAppender","parentBlockClientId","position","level","rowCount","path","isDragging","select","blockEditorStore","isBlockBeingDragged","isAncestorBeingDragged","instanceId","descriptionId","appenderPositionDescription","ref","tabIndex","onFocus"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AACA;;AAnBA;AACA;AACA;;AAGA;AACA;AACA;;AAMA;AACA;AACA;AAMe,SAASA,uBAAT,OAMX;AAAA,MALHC,mBAKG,QALHA,mBAKG;AAAA,MAJHC,QAIG,QAJHA,QAIG;AAAA,MAHHC,KAGG,QAHHA,KAGG;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADHC,IACG,QADHA,IACG;AACH,MAAMC,UAAU,GAAG,qBAClB,UAAEC,MAAF,EAAc;AAAA,kBAC2CA,MAAM,CAC7DC,YAD6D,CADjD;AAAA,QACLC,mBADK,WACLA,mBADK;AAAA,QACgBC,sBADhB,WACgBA,sBADhB;;AAKb,WACCD,mBAAmB,CAAER,mBAAF,CAAnB,IACAS,sBAAsB,CAAET,mBAAF,CAFvB;AAIA,GAViB,EAWlB,CAAEA,mBAAF,CAXkB,CAAnB;AAaA,MAAMU,UAAU,GAAG,4BAAeX,uBAAf,CAAnB;AACA,MAAMY,aAAa,wDAAkDD,UAAlD,CAAnB;AAEA,MAAME,2BAA2B,GAAG;AACnC;AACA,gBAAI,wCAAJ,CAFmC,EAGnCX,QAHmC,EAInCC,KAJmC,CAApC;AAOA,SACC,4BAAC,aAAD;AACC,IAAA,SAAS,EAAG,yBAAY;AAAE,qBAAeG;AAAjB,KAAZ,CADb;AAEC,IAAA,KAAK,EAAGH,KAFT;AAGC,IAAA,QAAQ,EAAGD,QAHZ;AAIC,IAAA,QAAQ,EAAGE,QAJZ;AAKC,IAAA,IAAI,EAAGC;AALR,KAOC,4BAAC,sCAAD;AACC,IAAA,SAAS,EAAC,8CADX;AAEC,IAAA,OAAO,EAAC;AAFT,KAIG;AAAA,QAAIS,GAAJ,SAAIA,GAAJ;AAAA,QAASC,QAAT,SAASA,QAAT;AAAA,QAAmBC,OAAnB,SAAmBA,OAAnB;AAAA,WACD;AAAK,MAAA,SAAS,EAAC;AAAf,OACC,4BAAC,oBAAD;AAAa,MAAA,KAAK,EAAGb;AAArB,MADD,EAEC,4BAAC,iBAAD;AACC,MAAA,YAAY,EAAGF,mBADhB;AAEC,MAAA,qBAAqB,MAFtB;AAGC,0BAAmBW,aAHpB;AAIC,MAAA,WAAW,EAAG;AAAEE,QAAAA,GAAG,EAAHA,GAAF;AAAOC,QAAAA,QAAQ,EAARA,QAAP;AAAiBC,QAAAA,OAAO,EAAPA;AAAjB;AAJf,MAFD,EAQC;AACC,MAAA,SAAS,EAAC,qDADX;AAEC,MAAA,EAAE,EAAGJ;AAFN,OAIGC,2BAJH,CARD,CADC;AAAA,GAJH,CAPD,CADD;AAgCA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalTreeGridCell as TreeGridCell } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationLeaf from './leaf';\nimport Indentation from './indentation';\nimport Inserter from '../inserter';\nimport { store as blockEditorStore } from '../../store';\n\nexport default function BlockNavigationAppender( {\n\tparentBlockClientId,\n\tposition,\n\tlevel,\n\trowCount,\n\tpath,\n} ) {\n\tconst isDragging = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isBlockBeingDragged, isAncestorBeingDragged } = select(\n\t\t\t\tblockEditorStore\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\tisBlockBeingDragged( parentBlockClientId ) ||\n\t\t\t\tisAncestorBeingDragged( parentBlockClientId )\n\t\t\t);\n\t\t},\n\t\t[ parentBlockClientId ]\n\t);\n\tconst instanceId = useInstanceId( BlockNavigationAppender );\n\tconst descriptionId = `block-navigation-appender-row__description_${ instanceId }`;\n\n\tconst appenderPositionDescription = sprintf(\n\t\t/* translators: 1: The numerical position of the block that will be inserted. 2: The level of nesting for the block that will be inserted. */\n\t\t__( 'Add block at position %1$d, Level %2$d' ),\n\t\tposition,\n\t\tlevel\n\t);\n\n\treturn (\n\t\t<BlockNavigationLeaf\n\t\t\tclassName={ classnames( { 'is-dragging': isDragging } ) }\n\t\t\tlevel={ level }\n\t\t\tposition={ position }\n\t\t\trowCount={ rowCount }\n\t\t\tpath={ path }\n\t\t>\n\t\t\t<TreeGridCell\n\t\t\t\tclassName=\"block-editor-block-navigation-appender__cell\"\n\t\t\t\tcolSpan=\"3\"\n\t\t\t>\n\t\t\t\t{ ( { ref, tabIndex, onFocus } ) => (\n\t\t\t\t\t<div className=\"block-editor-block-navigation-appender__container\">\n\t\t\t\t\t\t<Indentation level={ level } />\n\t\t\t\t\t\t<Inserter\n\t\t\t\t\t\t\trootClientId={ parentBlockClientId }\n\t\t\t\t\t\t\t__experimentalIsQuick\n\t\t\t\t\t\t\taria-describedby={ descriptionId }\n\t\t\t\t\t\t\ttoggleProps={ { ref, tabIndex, onFocus } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"block-editor-block-navigation-appender__description\"\n\t\t\t\t\t\t\tid={ descriptionId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ appenderPositionDescription }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</TreeGridCell>\n\t\t</BlockNavigationLeaf>\n\t);\n}\n"]}