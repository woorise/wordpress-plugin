{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["BlockNavigation","onSelect","noop","__experimentalFeatures","select","blockEditorStore","getBlockHierarchyRootClientId","getSelectedBlockClientId","__unstableGetClientIdsTree","__unstableGetClientIdWithClientIdsTree","_selectedBlockClientId","_rootBlocks","_rootBlock","selectedBlockClientId","rootBlock","rootBlocks","selectBlock","selectEditorBlock","clientId","length","hasHierarchy","innerBlocks"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AACA;;AAKA;;AACA;;AACA;;AAhBA;AACA;AACA;;AAGA;AACA;AACA;;AAIA;AACA;AACA;AAKe,SAASA,eAAT,OAGX;AAAA,2BAFHC,QAEG;AAAA,MAFHA,QAEG,8BAFQC,YAER;AAAA,MADHC,sBACG,QADHA,sBACG;;AAAA,mBACsD,qBACxD,UAAEC,MAAF,EAAc;AAAA,kBAMTA,MAAM,CAAEC,YAAF,CANG;AAAA,QAEZC,6BAFY,WAEZA,6BAFY;AAAA,QAGZC,wBAHY,WAGZA,wBAHY;AAAA,QAIZC,0BAJY,WAIZA,0BAJY;AAAA,QAKZC,sCALY,WAKZA,sCALY;;AAQb,QAAMC,sBAAsB,GAAGH,wBAAwB,EAAvD;;AACA,QAAMI,WAAW,GAAGH,0BAA0B,EAA9C;;AACA,QAAMI,UAAU,GACfC,qBAAqB,IAAI,CAAE,qBAASA,qBAAT,CAA3B,GACGJ,sCAAsC,CACtCH,6BAA6B,CAC5BI,sBAD4B,CADS,CADzC,GAMG,IAPJ;;AASA,WAAO;AACNI,MAAAA,SAAS,EAAEF,UADL;AAENG,MAAAA,UAAU,EAAEJ,WAFN;AAGNE,MAAAA,qBAAqB,EAAEH;AAHjB,KAAP;AAKA,GAzBuD,CADtD;AAAA,MACKI,SADL,cACKA,SADL;AAAA,MACgBC,UADhB,cACgBA,UADhB;AAAA,MAC4BF,qBAD5B,cAC4BA,qBAD5B;;AAAA,qBA4BqB,uBAAaR,YAAb,CA5BrB;AAAA,MA4BKW,WA5BL,gBA4BKA,WA5BL;;AA8BH,WAASC,iBAAT,CAA4BC,QAA5B,EAAuC;AACtCF,IAAAA,WAAW,CAAEE,QAAF,CAAX;AACAjB,IAAAA,QAAQ,CAAEiB,QAAF,CAAR;AACA;;AAED,MAAK,CAAEH,UAAF,IAAgBA,UAAU,CAACI,MAAX,KAAsB,CAA3C,EAA+C;AAC9C,WAAO,IAAP;AACA;;AAED,MAAMC,YAAY,GACjBN,SAAS,KACP,CAAE,+BAAoBA,SAAS,CAACI,QAA9B,EAAwCL,qBAAxC,CAAF,IACCC,SAAS,CAACO,WAAV,IAAyBP,SAAS,CAACO,WAAV,CAAsBF,MAAtB,KAAiC,CAFpD,CADV;AAKA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACG,cAAI,WAAJ,CADH,CADD,EAKC,4BAAC,aAAD;AACC,IAAA,MAAM,EAAGC,YAAY,GAAG,CAAEN,SAAF,CAAH,GAAmBC,UADzC;AAEC,IAAA,sBAAsB,EAAG,CAAEF,qBAAF,CAF1B;AAGC,IAAA,WAAW,EAAGI,iBAHf;AAIC,IAAA,sBAAsB,EAAGd,sBAJ1B;AAKC,IAAA,gBAAgB;AALjB,IALD,CADD;AAeA","sourcesContent":["/**\n * External dependencies\n */\nimport { isArray, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationTree from './tree';\nimport { isClientIdSelected } from './utils';\nimport { store as blockEditorStore } from '../../store';\n\nexport default function BlockNavigation( {\n\tonSelect = noop,\n\t__experimentalFeatures,\n} ) {\n\tconst { rootBlock, rootBlocks, selectedBlockClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockHierarchyRootClientId,\n\t\t\t\tgetSelectedBlockClientId,\n\t\t\t\t__unstableGetClientIdsTree,\n\t\t\t\t__unstableGetClientIdWithClientIdsTree,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tconst _selectedBlockClientId = getSelectedBlockClientId();\n\t\t\tconst _rootBlocks = __unstableGetClientIdsTree();\n\t\t\tconst _rootBlock =\n\t\t\t\tselectedBlockClientId && ! isArray( selectedBlockClientId )\n\t\t\t\t\t? __unstableGetClientIdWithClientIdsTree(\n\t\t\t\t\t\t\tgetBlockHierarchyRootClientId(\n\t\t\t\t\t\t\t\t_selectedBlockClientId\n\t\t\t\t\t\t\t)\n\t\t\t\t\t  )\n\t\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\trootBlock: _rootBlock,\n\t\t\t\trootBlocks: _rootBlocks,\n\t\t\t\tselectedBlockClientId: _selectedBlockClientId,\n\t\t\t};\n\t\t}\n\t);\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\tfunction selectEditorBlock( clientId ) {\n\t\tselectBlock( clientId );\n\t\tonSelect( clientId );\n\t}\n\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( ! isClientIdSelected( rootBlock.clientId, selectedBlockClientId ) ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<div className=\"block-editor-block-navigation__container\">\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'List view' ) }\n\t\t\t</p>\n\n\t\t\t<BlockNavigationTree\n\t\t\t\tblocks={ hasHierarchy ? [ rootBlock ] : rootBlocks }\n\t\t\t\tselectedBlockClientIds={ [ selectedBlockClientId ] }\n\t\t\t\tselectBlock={ selectEditorBlock }\n\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\n\t\t\t\tshowNestedBlocks\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"]}