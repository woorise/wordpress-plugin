{"version":3,"sources":["@wordpress/block-editor/src/components/inserter/search-form.native.js"],"names":["InserterSearchForm","value","onChange","onLayout","isActive","setIsActive","inputRef","searchFormStyle","styles","searchForm","searchFormDark","searchFormInputStyle","searchFormInput","searchFormInputDark","placeholderStyle","searchFormPlaceholder","searchFormPlaceholderDark","arrowLeft","current","blur","searchIcon","focus","color","cancelCircleFilled"],"mappings":";;;;;;;;;AAQA;;;;AALA;;AAMA;;AACA;;AACA;;AACA;;AAUA;;AAtBA;AACA;AACA;;AAGA;AACA;AACA;;AAYA;AACA;AACA;AAGA,SAASA,kBAAT,OAAwE;AAAA,MAAzCC,KAAyC,QAAzCA,KAAyC;AAAA,MAAlCC,QAAkC,QAAlCA,QAAkC;AAAA,2BAAxBC,QAAwB;AAAA,MAAxBA,QAAwB,8BAAb,YAAM,CAAE,CAAK;;AAAA,kBACrC,uBAAU,KAAV,CADqC;AAAA;AAAA,MAC/DC,QAD+D;AAAA,MACrDC,WADqD;;AAGvE,MAAMC,QAAQ,GAAG,sBAAjB;AAEA,MAAMC,eAAe,GAAG,2CACvBC,eAAOC,UADgB,EAEvBD,eAAOE,cAFgB,CAAxB;AAKA,MAAMC,oBAAoB,GAAG,2CAC5BH,eAAOI,eADqB,EAE5BJ,eAAOK,mBAFqB,CAA7B;AAKA,MAAMC,gBAAgB,GAAG,2CACxBN,eAAOO,qBADiB,EAExBP,eAAOQ,yBAFiB,CAAzB;AAKA,SACC,4BAAC,+BAAD;AAAoB,IAAA,UAAU,EAAG,KAAjC;AAAyC,IAAA,QAAQ,EAAGb;AAApD,KACC,4BAAC,iBAAD;AAAM,IAAA,KAAK,EAAGI;AAAd,KACGH,QAAQ,GACT,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,eAAJ,CADT;AAEC,IAAA,IAAI,EAAGa,gBAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfX,MAAAA,QAAQ,CAACY,OAAT,CAAiBC,IAAjB;AACAjB,MAAAA,QAAQ,CAAE,EAAF,CAAR;AACAG,MAAAA,WAAW,CAAE,KAAF,CAAX;AACA;AAPF,IADS,GAWT,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,cAAJ,CADT;AAEC,IAAA,IAAI,EAAGe,aAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfd,MAAAA,QAAQ,CAACY,OAAT,CAAiBG,KAAjB;AACAhB,MAAAA,WAAW,CAAE,IAAF,CAAX;AACA;AANF,IAZF,EAqBC,4BAAC,sBAAD;AACC,IAAA,GAAG,EAAGC,QADP;AAEC,IAAA,KAAK,EAAGK,oBAFT;AAGC,IAAA,oBAAoB,EAAGG,gBAAgB,CAACQ,KAHzC;AAIC,IAAA,YAAY,EAAGpB,QAJhB;AAKC,IAAA,OAAO,EAAG;AAAA,aAAMG,WAAW,CAAE,IAAF,CAAjB;AAAA,KALX;AAMC,IAAA,KAAK,EAAGJ,KANT;AAOC,IAAA,WAAW,EAAG,cAAI,eAAJ;AAPf,IArBD,EA+BG,CAAC,CAAEA,KAAH,IACD,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,cAAJ,CADT;AAEC,IAAA,IAAI,EAAG,4BAAC,WAAD;AAAM,MAAA,IAAI,EAAGsB;AAAb,MAFR;AAGC,IAAA,OAAO,EAAG,mBAAM;AACfrB,MAAAA,QAAQ,CAAE,EAAF,CAAR;AACA;AALF,IAhCF,CADD,CADD;AA6CA;;eAEcF,kB","sourcesContent":["/**\n * External dependencies\n */\nimport { TextInput, View, TouchableHighlight } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useRef } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { ToolbarButton } from '@wordpress/components';\nimport {\n\tIcon,\n\tcancelCircleFilled,\n\tarrowLeft,\n\tsearch as searchIcon,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nfunction InserterSearchForm( { value, onChange, onLayout = () => {} } ) {\n\tconst [ isActive, setIsActive ] = useState( false );\n\n\tconst inputRef = useRef();\n\n\tconst searchFormStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchForm,\n\t\tstyles.searchFormDark\n\t);\n\n\tconst searchFormInputStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchFormInput,\n\t\tstyles.searchFormInputDark\n\t);\n\n\tconst placeholderStyle = usePreferredColorSchemeStyle(\n\t\tstyles.searchFormPlaceholder,\n\t\tstyles.searchFormPlaceholderDark\n\t);\n\n\treturn (\n\t\t<TouchableHighlight accessible={ false } onLayout={ onLayout }>\n\t\t\t<View style={ searchFormStyle }>\n\t\t\t\t{ isActive ? (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Cancel search' ) }\n\t\t\t\t\t\ticon={ arrowLeft }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tinputRef.current.blur();\n\t\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\t\tsetIsActive( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Search block' ) }\n\t\t\t\t\t\ticon={ searchIcon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tinputRef.current.focus();\n\t\t\t\t\t\t\tsetIsActive( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<TextInput\n\t\t\t\t\tref={ inputRef }\n\t\t\t\t\tstyle={ searchFormInputStyle }\n\t\t\t\t\tplaceholderTextColor={ placeholderStyle.color }\n\t\t\t\t\tonChangeText={ onChange }\n\t\t\t\t\tonFocus={ () => setIsActive( true ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tplaceholder={ __( 'Search blocks' ) }\n\t\t\t\t/>\n\n\t\t\t\t{ !! value && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Clear search' ) }\n\t\t\t\t\t\ticon={ <Icon icon={ cancelCircleFilled } /> }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</TouchableHighlight>\n\t);\n}\n\nexport default InserterSearchForm;\n"]}