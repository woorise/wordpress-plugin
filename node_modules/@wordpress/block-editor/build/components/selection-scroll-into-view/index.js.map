{"version":3,"sources":["@wordpress/block-editor/src/components/selection-scroll-into-view/index.js"],"names":["useScrollSelectionIntoView","ref","selectionEnd","select","blockEditorStore","getBlockSelectionEnd","ownerDocument","current","extentNode","scrollContainer","onlyScrollIfNeeded","MultiSelectScrollIntoView"],"mappings":";;;;;;;;;;AAQA;;AALA;;AAMA;;AACA;;AAKA;;AACA;;AAhBA;AACA;AACA;;AAGA;AACA;AACA;;AAKA;AACA;AACA;AAIO,SAASA,0BAAT,CAAqCC,GAArC,EAA2C;AACjD,MAAMC,YAAY,GAAG,qBACpB,UAAEC,MAAF;AAAA,WAAcA,MAAM,CAAEC,YAAF,CAAN,CAA2BC,oBAA3B,EAAd;AAAA,GADoB,EAEpB,EAFoB,CAArB;AAKA,0BAAW,YAAM;AAChB,QAAK,CAAEH,YAAP,EAAsB;AACrB;AACA;;AAHe,QAKRI,aALQ,GAKUL,GAAG,CAACM,OALd,CAKRD,aALQ;AAMhB,QAAME,UAAU,GAAG,2BAAiBN,YAAjB,EAA+BI,aAA/B,CAAnB;;AAEA,QAAK,CAAEE,UAAP,EAAoB;AACnB;AACA;;AAED,QAAMC,eAAe,GAAG,6BAAoBD,UAApB,CAAxB,CAZgB,CAchB;AACA;;AACA,QAAK,CAAEC,eAAP,EAAyB;AACxB;AACA;;AAED,oCAAgBD,UAAhB,EAA4BC,eAA5B,EAA6C;AAC5CC,MAAAA,kBAAkB,EAAE;AADwB,KAA7C;AAGA,GAvBD,EAuBG,CAAER,YAAF,CAvBH;AAwBA;AAED;AACA;AACA;AACA;;;AACO,SAASS,yBAAT,GAAqC;AAC3C,MAAMV,GAAG,GAAG,sBAAZ;AACAD,EAAAA,0BAA0B,CAAEC,GAAF,CAA1B;AACA,SAAO;AAAK,IAAA,GAAG,EAAGA;AAAX,IAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\nimport { store as blockEditorStore } from '../../store';\n\nexport function useScrollSelectionIntoView( ref ) {\n\tconst selectionEnd = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockSelectionEnd(),\n\t\t[]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( ! selectionEnd ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { ownerDocument } = ref.current;\n\t\tconst extentNode = getBlockDOMNode( selectionEnd, ownerDocument );\n\n\t\tif ( ! extentNode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( extentNode );\n\n\t\t// If there's no scroll container, it follows that there's no scrollbar\n\t\t// and thus there's no need to try to scroll into view.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscrollIntoView( extentNode, scrollContainer, {\n\t\t\tonlyScrollIfNeeded: true,\n\t\t} );\n\t}, [ selectionEnd ] );\n}\n\n/**\n * Scrolls the multi block selection end into view if not in view already. This\n * is important to do after selection by keyboard.\n */\nexport function MultiSelectScrollIntoView() {\n\tconst ref = useRef();\n\tuseScrollSelectionIntoView( ref );\n\treturn <div ref={ ref } />;\n}\n"]}