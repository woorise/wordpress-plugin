{"version":3,"sources":["@wordpress/block-editor/src/components/block-title/index.js"],"names":["BlockTitle","clientId","select","blockEditorStore","getBlockName","getBlockAttributes","__experimentalGetReusableBlockTitle","blockName","isReusable","attributes","name","reusableBlockTitle","ref","blockInformation","blockType","label","title","length"],"mappings":";;;;;;;;;AAGA;;AAKA;;AACA;;AASA;;AACA;;AAnBA;AACA;AACA;;AAGA;AACA;AACA;;AAQA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,UAAT,OAAoC;AAAA,MAAbC,QAAa,QAAbA,QAAa;;AAAA,mBACD,qBAChD,UAAEC,MAAF,EAAc;AACb,QAAK,CAAED,QAAP,EAAkB;AACjB,aAAO,EAAP;AACA;;AAHY,kBAQTC,MAAM,CAAEC,YAAF,CARG;AAAA,QAKZC,YALY,WAKZA,YALY;AAAA,QAMZC,kBANY,WAMZA,kBANY;AAAA,QAOZC,mCAPY,WAOZA,mCAPY;;AASb,QAAMC,SAAS,GAAGH,YAAY,CAAEH,QAAF,CAA9B;;AACA,QAAK,CAAEM,SAAP,EAAmB;AAClB,aAAO,EAAP;AACA;;AACD,QAAMC,UAAU,GAAG,6BAAiB,0BAAcD,SAAd,CAAjB,CAAnB;AACA,WAAO;AACNE,MAAAA,UAAU,EAAEJ,kBAAkB,CAAEJ,QAAF,CADxB;AAENS,MAAAA,IAAI,EAAEH,SAFA;AAGNI,MAAAA,kBAAkB,EACjBH,UAAU,IACVF,mCAAmC,CAClCD,kBAAkB,CAAEJ,QAAF,CAAlB,CAA+BW,GADG;AAL9B,KAAP;AASA,GAxB+C,EAyBhD,CAAEX,QAAF,CAzBgD,CADC;AAAA,MAC1CQ,UAD0C,cAC1CA,UAD0C;AAAA,MAC9BC,IAD8B,cAC9BA,IAD8B;AAAA,MACxBC,kBADwB,cACxBA,kBADwB;;AA6BlD,MAAME,gBAAgB,GAAG,yCAA4BZ,QAA5B,CAAzB;AACA,MAAK,CAAES,IAAF,IAAU,CAAEG,gBAAjB,EAAoC,OAAO,IAAP;AACpC,MAAMC,SAAS,GAAG,0BAAcJ,IAAd,CAAlB;AACA,MAAMK,KAAK,GAAGJ,kBAAkB,IAAI,yCAAeG,SAAf,EAA0BL,UAA1B,CAApC,CAhCkD,CAiClD;AACA;AACA;;AACA,MAAKM,KAAK,KAAKD,SAAS,CAACE,KAAzB,EAAiC;AAChC,WAAO,sBAAUD,KAAV,EAAiB;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAjB,CAAP;AACA;;AACD,SAAOJ,gBAAgB,CAACG,KAAxB;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { truncate } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tgetBlockType,\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tisReusableBlock,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Renders the block's configured title as a string, or empty if the title\n * cannot be determined.\n *\n * @example\n *\n * ```jsx\n * <BlockTitle clientId=\"afd1cb17-2c08-4e7a-91be-007ba7ddc3a1\" />\n * ```\n *\n * @param {Object} props\n * @param {string} props.clientId Client ID of block.\n *\n * @return {?string} Block title.\n */\nexport default function BlockTitle( { clientId } ) {\n\tconst { attributes, name, reusableBlockTitle } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! clientId ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockAttributes,\n\t\t\t\t__experimentalGetReusableBlockTitle,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst blockName = getBlockName( clientId );\n\t\t\tif ( ! blockName ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst isReusable = isReusableBlock( getBlockType( blockName ) );\n\t\t\treturn {\n\t\t\t\tattributes: getBlockAttributes( clientId ),\n\t\t\t\tname: blockName,\n\t\t\t\treusableBlockTitle:\n\t\t\t\t\tisReusable &&\n\t\t\t\t\t__experimentalGetReusableBlockTitle(\n\t\t\t\t\t\tgetBlockAttributes( clientId ).ref\n\t\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst blockInformation = useBlockDisplayInformation( clientId );\n\tif ( ! name || ! blockInformation ) return null;\n\tconst blockType = getBlockType( name );\n\tconst label = reusableBlockTitle || getBlockLabel( blockType, attributes );\n\t// Label will fallback to the title if no label is defined for the current\n\t// label context. If the label is defined we prioritize it over possible\n\t// possible block variation title match.\n\tif ( label !== blockType.title ) {\n\t\treturn truncate( label, { length: 35 } );\n\t}\n\treturn blockInformation.title;\n}\n"]}