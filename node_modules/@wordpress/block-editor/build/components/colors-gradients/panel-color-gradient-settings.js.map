{"version":3,"sources":["@wordpress/block-editor/src/components/colors-gradients/panel-color-gradient-settings.js"],"names":["colorIndicatorAriaLabel","gradientIndicatorAriaLabel","colorsAndGradientKeys","Indicators","colors","gradients","settings","map","index","colorValue","gradientValue","label","availableColors","availableGradients","ariaLabel","colorObject","toLowerCase","name","gradientObject","PanelColorGradientSettingsInner","className","disableCustomColors","disableCustomGradients","children","title","props","setting","undefined","titleElement","PanelColorGradientSettingsSelect","colorGradientSettings","PanelColorGradientSettings","key","hasOwnProperty"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { every, isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, ColorIndicator } from '@wordpress/components';\nimport { sprintf, __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\nimport { getColorObjectByColorValue } from '../colors';\nimport { __experimentalGetGradientObjectByGradientValue } from '../gradients';\nimport useEditorFeature from '../use-editor-feature';\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(%s: color %s)' );\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst gradientIndicatorAriaLabel = __( '(%s: gradient %s)' );\n\nconst colorsAndGradientKeys = [\n\t'colors',\n\t'disableCustomColors',\n\t'gradients',\n\t'disableCustomGradients',\n];\n\nconst Indicators = ( { colors, gradients, settings } ) => {\n\treturn settings.map(\n\t\t(\n\t\t\t{\n\t\t\t\tcolorValue,\n\t\t\t\tgradientValue,\n\t\t\t\tlabel,\n\t\t\t\tcolors: availableColors,\n\t\t\t\tgradients: availableGradients,\n\t\t\t},\n\t\t\tindex\n\t\t) => {\n\t\t\tif ( ! colorValue && ! gradientValue ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet ariaLabel;\n\t\t\tif ( colorValue ) {\n\t\t\t\tconst colorObject = getColorObjectByColorValue(\n\t\t\t\t\tavailableColors || colors,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tcolorIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( colorObject && colorObject.name ) || colorValue\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst gradientObject = __experimentalGetGradientObjectByGradientValue(\n\t\t\t\t\tavailableGradients || gradients,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tgradientIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( gradientObject && gradientObject.name ) || gradientValue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ColorIndicator\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tcolorValue={ colorValue || gradientValue }\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t);\n};\n\nexport const PanelColorGradientSettingsInner = ( {\n\tclassName,\n\tcolors,\n\tgradients,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tchildren,\n\tsettings,\n\ttitle,\n\t...props\n} ) => {\n\tif (\n\t\tisEmpty( colors ) &&\n\t\tisEmpty( gradients ) &&\n\t\tdisableCustomColors &&\n\t\tdisableCustomGradients &&\n\t\tevery(\n\t\t\tsettings,\n\t\t\t( setting ) =>\n\t\t\t\tisEmpty( setting.colors ) &&\n\t\t\t\tisEmpty( setting.gradients ) &&\n\t\t\t\t( setting.disableCustomColors === undefined ||\n\t\t\t\t\tsetting.disableCustomColors ) &&\n\t\t\t\t( setting.disableCustomGradients === undefined ||\n\t\t\t\t\tsetting.disableCustomGradients )\n\t\t)\n\t) {\n\t\treturn null;\n\t}\n\n\tconst titleElement = (\n\t\t<span className=\"block-editor-panel-color-gradient-settings__panel-title\">\n\t\t\t{ title }\n\t\t\t<Indicators\n\t\t\t\tcolors={ colors }\n\t\t\t\tgradients={ gradients }\n\t\t\t\tsettings={ settings }\n\t\t\t/>\n\t\t</span>\n\t);\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-panel-color-gradient-settings',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ttitle={ titleElement }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ settings.map( ( setting, index ) => (\n\t\t\t\t<ColorGradientControl\n\t\t\t\t\tkey={ index }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tcolors,\n\t\t\t\t\t\tgradients,\n\t\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n};\n\nconst PanelColorGradientSettingsSelect = ( props ) => {\n\tconst colorGradientSettings = {};\n\tcolorGradientSettings.colors = useEditorFeature( 'color.palette' );\n\tcolorGradientSettings.gradients = useEditorFeature( 'color.gradients' );\n\tcolorGradientSettings.disableCustomColors = ! useEditorFeature(\n\t\t'color.custom'\n\t);\n\tcolorGradientSettings.disableCustomGradients = ! useEditorFeature(\n\t\t'color.customGradient'\n\t);\n\treturn (\n\t\t<PanelColorGradientSettingsInner\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\n\t\t/>\n\t);\n};\n\nconst PanelColorGradientSettings = ( props ) => {\n\tif (\n\t\tevery( colorsAndGradientKeys, ( key ) => props.hasOwnProperty( key ) )\n\t) {\n\t\treturn <PanelColorGradientSettingsInner { ...props } />;\n\t}\n\treturn <PanelColorGradientSettingsSelect { ...props } />;\n};\n\nexport default PanelColorGradientSettings;\n"]}