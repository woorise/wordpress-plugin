"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.__unstableMarkAutomaticChangeFinalControl = void 0;

var _data = require("@wordpress/data");

var _store = require("../store");

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */
var __unstableMarkAutomaticChangeFinalControl = function __unstableMarkAutomaticChangeFinalControl() {
  return {
    type: 'MARK_AUTOMATIC_CHANGE_FINAL_CONTROL'
  };
};

exports.__unstableMarkAutomaticChangeFinalControl = __unstableMarkAutomaticChangeFinalControl;
var controls = {
  SLEEP: function SLEEP(_ref) {
    var duration = _ref.duration;
    return new Promise(function (resolve) {
      setTimeout(resolve, duration);
    });
  },
  MARK_AUTOMATIC_CHANGE_FINAL_CONTROL: (0, _data.createRegistryControl)(function (registry) {
    return function () {
      var _window = window,
          _window$requestIdleCa = _window.requestIdleCallback,
          requestIdleCallback = _window$requestIdleCa === void 0 ? function (callback) {
        return setTimeout(callback, 100);
      } : _window$requestIdleCa;
      requestIdleCallback(function () {
        return registry.dispatch(_store.store).__unstableMarkAutomaticChangeFinal();
      });
    };
  })
};
var _default = controls;
exports.default = _default;
//# sourceMappingURL=controls.js.map