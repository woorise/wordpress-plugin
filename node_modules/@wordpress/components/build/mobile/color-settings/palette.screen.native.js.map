{"version":3,"sources":["@wordpress/components/src/mobile/color-settings/palette.screen.native.js"],"names":["PaletteScreen","route","navigation","BottomSheetContext","shouldEnableBottomSheetScroll","params","label","onColorChange","onGradientChange","colorValue","defaultSettings","segments","colorsUtils","isGradient","currentValue","setCurrentValue","isGradientColor","selectedSegmentIndex","currentSegment","setCurrentSegment","horizontalSeparatorStyle","styles","horizontalSeparator","horizontalSeparatorDark","isSolidSegment","isCustomGadientShown","setColor","color","onCustomPress","navigate","screens","picker","gradientPicker","getFooter","indexOf","colorIndicator","footer","flex","selectColorText","goBack"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useContext } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport {\n\tColorControl,\n\tPanelBody,\n\tBottomSheetContext,\n} from '@wordpress/components';\nimport { useRoute, useNavigation } from '@react-navigation/native';\n/**\n * Internal dependencies\n */\nimport ColorPalette from '../../color-palette';\nimport ColorIndicator from '../../color-indicator';\nimport NavigationHeader from '../bottom-sheet/navigation-header';\nimport SegmentedControls from '../segmented-control';\nimport { colorsUtils } from './utils';\n\nimport styles from './style.scss';\n\nconst PaletteScreen = () => {\n\tconst route = useRoute();\n\tconst navigation = useNavigation();\n\tconst { shouldEnableBottomSheetScroll } = useContext( BottomSheetContext );\n\tconst {\n\t\tlabel,\n\t\tonColorChange,\n\t\tonGradientChange,\n\t\tcolorValue,\n\t\tdefaultSettings,\n\t} = route.params || {};\n\tconst { segments, isGradient } = colorsUtils;\n\tconst [ currentValue, setCurrentValue ] = useState( colorValue );\n\tconst isGradientColor = isGradient( currentValue );\n\tconst selectedSegmentIndex = isGradientColor ? 1 : 0;\n\n\tconst [ currentSegment, setCurrentSegment ] = useState(\n\t\tsegments[ selectedSegmentIndex ]\n\t);\n\n\tconst horizontalSeparatorStyle = usePreferredColorSchemeStyle(\n\t\tstyles.horizontalSeparator,\n\t\tstyles.horizontalSeparatorDark\n\t);\n\n\tconst isSolidSegment = currentSegment === segments[ 0 ];\n\tconst isCustomGadientShown = ! isSolidSegment && isGradientColor;\n\n\tconst setColor = ( color ) => {\n\t\tsetCurrentValue( color );\n\t\tif ( isSolidSegment && onColorChange && onGradientChange ) {\n\t\t\tonColorChange( color );\n\t\t\tonGradientChange( '' );\n\t\t} else if ( isSolidSegment && onColorChange ) {\n\t\t\tonColorChange( color );\n\t\t} else if ( ! isSolidSegment && onGradientChange ) {\n\t\t\tonGradientChange( color );\n\t\t\tonColorChange( '' );\n\t\t}\n\t};\n\n\tfunction onCustomPress() {\n\t\tif ( isSolidSegment ) {\n\t\t\tnavigation.navigate( colorsUtils.screens.picker, {\n\t\t\t\tcurrentValue,\n\t\t\t\tsetColor,\n\t\t\t} );\n\t\t} else {\n\t\t\tnavigation.navigate( colorsUtils.screens.gradientPicker, {\n\t\t\t\tsetColor,\n\t\t\t\tisGradientColor,\n\t\t\t\tcurrentValue,\n\t\t\t} );\n\t\t}\n\t}\n\n\tfunction getFooter() {\n\t\tif ( onGradientChange ) {\n\t\t\treturn (\n\t\t\t\t<SegmentedControls\n\t\t\t\t\tsegments={ segments }\n\t\t\t\t\tsegmentHandler={ setCurrentSegment }\n\t\t\t\t\tselectedIndex={ segments.indexOf( currentSegment ) }\n\t\t\t\t\taddonLeft={\n\t\t\t\t\t\tcurrentValue && (\n\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\tcolor={ currentValue }\n\t\t\t\t\t\t\t\tstyle={ styles.colorIndicator }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<View style={ styles.footer }>\n\t\t\t\t<View style={ styles.flex }>\n\t\t\t\t\t{ currentValue && (\n\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\tcolor={ currentValue }\n\t\t\t\t\t\t\tstyle={ styles.colorIndicator }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</View>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ styles.selectColorText }\n\t\t\t\t\tmaxFontSizeMultiplier={ 2 }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Select a color' ) }\n\t\t\t\t</Text>\n\t\t\t\t<View style={ styles.flex } />\n\t\t\t</View>\n\t\t);\n\t}\n\treturn (\n\t\t<View>\n\t\t\t<NavigationHeader\n\t\t\t\tscreen={ label }\n\t\t\t\tleftButtonOnPress={ navigation.goBack }\n\t\t\t/>\n\t\t\t<ColorPalette\n\t\t\t\tsetColor={ setColor }\n\t\t\t\tactiveColor={ currentValue }\n\t\t\t\tisGradientColor={ isGradientColor }\n\t\t\t\tcurrentSegment={ currentSegment }\n\t\t\t\tonCustomPress={ onCustomPress }\n\t\t\t\tshouldEnableBottomSheetScroll={ shouldEnableBottomSheetScroll }\n\t\t\t\tdefaultSettings={ defaultSettings }\n\t\t\t/>\n\t\t\t{ isCustomGadientShown && (\n\t\t\t\t<>\n\t\t\t\t\t<View style={ horizontalSeparatorStyle } />\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<ColorControl\n\t\t\t\t\t\t\tlabel={ __( 'Customize Gradient' ) }\n\t\t\t\t\t\t\tonPress={ onCustomPress }\n\t\t\t\t\t\t\twithColorIndicator={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<View style={ horizontalSeparatorStyle } />\n\t\t\t{ getFooter() }\n\t\t</View>\n\t);\n};\n\nexport default PaletteScreen;\n"]}