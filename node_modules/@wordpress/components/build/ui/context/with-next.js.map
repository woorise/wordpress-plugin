{"version":3,"sources":["@wordpress/components/src/ui/context/with-next.js"],"names":["withNext","CurrentComponent","NextComponent","namespace","adapter","p","process","env","COMPONENT_SYSTEM_PHASE","WrappedComponent","props","ref","__unstableVersion","otherProps","nextProps"],"mappings":";;;;;;;;;;;;;;;AAGA;;AAHA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,QAAT,CACNC,gBADM,EAKL;AAAA,MAHDC,aAGC,uEAHe;AAAA,WAAM,IAAN;AAAA,GAGf;AAAA,MAFDC,SAEC,uEAFW,WAEX;AAAA,MADDC,OACC,uEADS,UAAEC,CAAF;AAAA;AAAS;AAAqBA,MAAAA;AAA9B;AAAA,GACT;;AACD,MAAKC,OAAO,CAACC,GAAR,CAAYC,sBAAZ,KAAuC,CAA5C,EAAgD;AAC/C;;AACA;AACF;AACA;AACA;;AACE;AACA,QAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAEC,KAAF,EAASC,GAAT,EAAkB;AAC1C;AAD0C,8BAEG,+BAC5CD,KAD4C,EAE5CP,SAF4C,CAFH;AAAA,UAElCS,iBAFkC,qBAElCA,iBAFkC;AAAA,UAEZC,UAFY;;AAO1C,UAAKD,iBAAiB,KAAK,MAA3B,EAAoC;AACnC;AACA,YAAME,SAAS,GAAGV,OAAO,CAAES,UAAF,CAAzB;AACA,eAAO,4BAAC,aAAD,6BAAoBC,SAApB;AAAgC,UAAA,GAAG,EAAGH;AAAtC,WAAP;AACA;;AAED,aAAO,4BAAC,gBAAD,6BAAuBD,KAAvB;AAA+B,QAAA,GAAG,EAAGC;AAArC,SAAP;AACA,KAdD;;AAgBA,WAAO,6BAAgBF,gBAAhB,EAAkCN,SAAlC,CAAP;AACA;;AAED,SAAOF,gBAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { contextConnect, useContextSystem } from '@wp-g2/context';\n\n/**\n * @template {{}} TCurrentProps\n * @template {{}} TNextProps\n * @param {import('react').ForwardRefExoticComponent<TCurrentProps>} CurrentComponent\n * @param {import('react').ComponentType<TNextProps>} NextComponent\n * @param {string} namespace\n * @param {(props: TCurrentProps) => TNextProps} adapter\n */\nexport function withNext(\n\tCurrentComponent,\n\tNextComponent = () => null,\n\tnamespace = 'Component',\n\tadapter = ( p ) => /** @type {any} */ ( p )\n) {\n\tif ( process.env.COMPONENT_SYSTEM_PHASE === 1 ) {\n\t\t/* eslint-disable jsdoc/no-undefined-types */\n\t\t/**\n\t\t * @param {TCurrentProps} props\n\t\t * @param {import('react').Ref<any>} ref\n\t\t */\n\t\t/* eslint-enable jsdoc/no-undefined-types */\n\t\tconst WrappedComponent = ( props, ref ) => {\n\t\t\t// @ts-ignore\n\t\t\tconst { __unstableVersion, ...otherProps } = useContextSystem(\n\t\t\t\tprops,\n\t\t\t\tnamespace\n\t\t\t);\n\n\t\t\tif ( __unstableVersion === 'next' ) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst nextProps = adapter( otherProps );\n\t\t\t\treturn <NextComponent { ...nextProps } ref={ ref } />;\n\t\t\t}\n\n\t\t\treturn <CurrentComponent { ...props } ref={ ref } />;\n\t\t};\n\n\t\treturn contextConnect( WrappedComponent, namespace );\n\t}\n\n\treturn CurrentComponent;\n}\n"]}