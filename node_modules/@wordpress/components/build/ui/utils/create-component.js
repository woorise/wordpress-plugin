"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createComponent = void 0;

var _element = require("@wordpress/element");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _context = require("@wp-g2/context");

var _lodash = require("lodash");

var _view = require("../view");

/**
 * External dependencies
 */

/**
 * Internal dependencies
 */

/**
 * Factory that creates a React component.
 *
 * @template {import('reakit-utils/types').As} T
 * @template {import('@wp-g2/create-styles').ViewOwnProps<{}, T>} P
 * @param {import('./types').Options<T, P>} options Options to customize the component.
 * @return {import('@wp-g2/create-styles').PolymorphicComponent<T, import('@wp-g2/create-styles').PropsFromViewOwnProps<P>>} New React component.
 */

/* eslint-disable jsdoc/no-undefined-types */
var createComponent = function createComponent(_ref) {
  var as = _ref.as,
      _ref$name = _ref.name,
      name = _ref$name === void 0 ? 'Component' : _ref$name,
      _ref$useHook = _ref.useHook,
      useHook = _ref$useHook === void 0 ? _lodash.identity : _ref$useHook,
      _ref$memo = _ref.memo,
      memo = _ref$memo === void 0 ? true : _ref$memo;

  /**
   * @param {P} props
   * @param {import('react').Ref<T>} forwardedRef
   */
  function Component(props, forwardedRef) {
    var otherProps = useHook(props);
    return (0, _element.createElement)(_view.View, (0, _extends2.default)({
      as: as || 'div'
    }, otherProps, {
      ref: forwardedRef
    }));
  }

  Component.displayName = name; // @ts-ignore

  return (0, _context.contextConnect)(Component, name, {
    memo: memo
  });
};
/* eslint-enable jsdoc/no-undefined-types */


exports.createComponent = createComponent;
//# sourceMappingURL=create-component.js.map