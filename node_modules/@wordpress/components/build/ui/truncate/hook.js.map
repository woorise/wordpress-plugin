{"version":3,"sources":["@wordpress/components/src/ui/truncate/hook.js"],"names":["useTruncate","props","className","children","ellipsis","TRUNCATE_ELLIPSIS","ellipsizeMode","TRUNCATE_TYPE","auto","limit","numberOfLines","otherProps","truncatedContent","shouldTruncate","classes","sx","css","styles","Truncate"],"mappings":";;;;;;;;;;;;;;;;;AAGA;;AACA;;AAKA;;AAKA;;AACA;;;;;;;;AAEA;AACA;AACA;AACe,SAASA,WAAT,CAAsBC,KAAtB,EAA8B;AAAA,0BASxC,+BAAkBA,KAAlB,EAAyB,UAAzB,CATwC;AAAA,MAE3CC,SAF2C,qBAE3CA,SAF2C;AAAA,MAG3CC,QAH2C,qBAG3CA,QAH2C;AAAA,gDAI3CC,QAJ2C;AAAA,MAI3CA,QAJ2C,sCAIhCC,wBAJgC;AAAA,iDAK3CC,aAL2C;AAAA,MAK3CA,aAL2C,uCAK3BC,qBAAcC,IALa;AAAA,gDAM3CC,KAN2C;AAAA,MAM3CA,KAN2C,sCAMnC,CANmC;AAAA,gDAO3CC,aAP2C;AAAA,MAO3CA,aAP2C,sCAO3B,CAP2B;AAAA,MAQxCC,UARwC;;AAW5C,MAAMC,gBAAgB,GAAG,4BACxB,OAAOT,QAAP,KAAoB,QAApB;AAA+B;AAAwBA,EAAAA,QAAvD,GAAoE,EAD5C,EAExB;AACCC,IAAAA,QAAQ,EAARA,QADD;AAECE,IAAAA,aAAa,EAAbA,aAFD;AAGCG,IAAAA,KAAK,EAALA,KAHD;AAICC,IAAAA,aAAa,EAAbA;AAJD,GAFwB,CAAzB;AAUA,MAAMG,cAAc,GAAGP,aAAa,KAAKC,qBAAcC,IAAvD;AAEA,MAAMM,OAAO,GAAG,sBAAS,YAAM;AAC9B,QAAMC,EAAE,GAAG,EAAX;AAEAA,IAAAA,EAAE,CAACL,aAAH,OAAmBM,WAAnB,uNAEwBN,aAFxB;AAOA,WAAO,gBACNG,cAAc,IAAI,CAAEH,aAApB,IAAqCO,MAAM,CAACC,QADtC,EAENL,cAAc,IAAI,CAAC,CAAEH,aAArB,IAAsCK,EAAE,CAACL,aAFnC,EAGNR,SAHM,CAAP;AAKA,GAfe,EAeb,CAAEA,SAAF,EAAaQ,aAAb,EAA4BG,cAA5B,CAfa,CAAhB;AAiBA,yCAAYF,UAAZ;AAAwBT,IAAAA,SAAS,EAAEY,OAAnC;AAA4CX,IAAAA,QAAQ,EAAES;AAAtD;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { useContextSystem } from '@wp-g2/context';\nimport { css, cx } from '@wp-g2/styles';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport * as styles from './styles';\nimport { TRUNCATE_ELLIPSIS, TRUNCATE_TYPE, truncateContent } from './utils';\n\n/**\n * @param {import('@wp-g2/create-styles').ViewOwnProps<import('./types').Props, 'span'>} props\n */\nexport default function useTruncate( props ) {\n\tconst {\n\t\tclassName,\n\t\tchildren,\n\t\tellipsis = TRUNCATE_ELLIPSIS,\n\t\tellipsizeMode = TRUNCATE_TYPE.auto,\n\t\tlimit = 0,\n\t\tnumberOfLines = 0,\n\t\t...otherProps\n\t} = useContextSystem( props, 'Truncate' );\n\n\tconst truncatedContent = truncateContent(\n\t\ttypeof children === 'string' ? /** @type {string} */ ( children ) : '',\n\t\t{\n\t\t\tellipsis,\n\t\t\tellipsizeMode,\n\t\t\tlimit,\n\t\t\tnumberOfLines,\n\t\t}\n\t);\n\n\tconst shouldTruncate = ellipsizeMode === TRUNCATE_TYPE.auto;\n\n\tconst classes = useMemo( () => {\n\t\tconst sx = {};\n\n\t\tsx.numberOfLines = css`\n\t\t\t-webkit-box-orient: vertical;\n\t\t\t-webkit-line-clamp: ${ numberOfLines };\n\t\t\tdisplay: -webkit-box;\n\t\t\toverflow: hidden;\n\t\t`;\n\n\t\treturn cx(\n\t\t\tshouldTruncate && ! numberOfLines && styles.Truncate,\n\t\t\tshouldTruncate && !! numberOfLines && sx.numberOfLines,\n\t\t\tclassName\n\t\t);\n\t}, [ className, numberOfLines, shouldTruncate ] );\n\n\treturn { ...otherProps, className: classes, children: truncatedContent };\n}\n"]}