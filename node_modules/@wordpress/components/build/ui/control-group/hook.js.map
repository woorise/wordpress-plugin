{"version":3,"sources":["@wordpress/components/src/ui/control-group/hook.js"],"names":["useControlGroup","props","children","className","direction","templateColumns","otherProps","validChildren","isVertical","isGrid","classes","styles","itemFocus","itemGrid","clonedChildren","map","child","index","isFirst","isLast","length","isOnly","isMiddle","_key","key","first","firstRow","last","lastRow","contextStyles","middle","contextProps"],"mappings":";;;;;;;;;;;;;;;;;AAGA;;AACA;;AACA;;AAKA;;AACA;;;;;;AAEA;AACA;AACA;AACO,SAASA,eAAT,CAA0BC,KAA1B,EAAkC;AAAA,0BAOpC,+BAAkBA,KAAlB,EAAyB,cAAzB,CAPoC;AAAA,MAEvCC,QAFuC,qBAEvCA,QAFuC;AAAA,MAGvCC,SAHuC,qBAGvCA,SAHuC;AAAA,gDAIvCC,SAJuC;AAAA,MAIvCA,SAJuC,sCAI3B,KAJ2B;AAAA,MAKvCC,eALuC,qBAKvCA,eALuC;AAAA,MAMpCC,UANoC;;AASxC,MAAMC,aAAa,GAAG,6BAAkBL,QAAlB,CAAtB;AACA,MAAMM,UAAU,GAAGJ,SAAS,KAAK,QAAjC;AACA,MAAMK,MAAM,GAAG,CAAC,CAAEJ,eAAlB;AAEA,MAAMK,OAAO,GAAG,gBACfC,MAAM,CAACC,SADQ,EAEfH,MAAM,IAAIE,MAAM,CAACE,QAFF,EAGfV,SAHe,CAAhB;AAMA,MAAMW,cAAc,GACnBP,aAAa,IACbA,aAAa,CAACQ,GAAd,CAAmB,UAAEC,KAAF,EAASC,KAAT,EAAoB;AACtC,QAAMC,OAAO,GAAGD,KAAK,KAAK,CAA1B;AACA,QAAME,MAAM,GAAGF,KAAK,GAAG,CAAR,KAAcV,aAAa,CAACa,MAA3C;AACA,QAAMC,MAAM,GAAGH,OAAO,IAAIC,MAA1B;AACA,QAAMG,QAAQ,GAAG,CAAEJ,OAAF,IAAa,CAAEC,MAAhC,CAJsC,CAMtC;;AACA,QAAMI,IAAI,GAAG,CAAAP,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEQ,GAAP,KAAcP,KAA3B;AAEA;;;AACA,QAAIQ,KAAJ;;AACA,QAAKP,OAAL,EAAe;AACd,UAAKV,UAAL,EAAkB;AACjBiB,QAAAA,KAAK,GAAGd,MAAM,CAACe,QAAf;AACA,OAFD,MAEO;AACND,QAAAA,KAAK,GAAGd,MAAM,CAACc,KAAf;AACA;AACD;AAED;;;AACA,QAAIE,IAAJ;;AACA,QAAKR,MAAL,EAAc;AACb,UAAKX,UAAL,EAAkB;AACjBmB,QAAAA,IAAI,GAAGhB,MAAM,CAACiB,OAAd;AACA,OAFD,MAEO;AACND,QAAAA,IAAI,GAAGhB,MAAM,CAACgB,IAAd;AACA;AACD;;AAED,QAAME,aAAa,GAAG,gBAAIJ,KAAJ,EAAWH,QAAQ,IAAIX,MAAM,CAACmB,MAA9B,EAAsCH,IAAtC,CAAtB;AAEA,QAAMI,YAAY,GAAG;AACpBb,MAAAA,OAAO,EAAPA,OADoB;AAEpBC,MAAAA,MAAM,EAANA,MAFoB;AAGpBG,MAAAA,QAAQ,EAARA,QAHoB;AAIpBD,MAAAA,MAAM,EAANA,MAJoB;AAKpBb,MAAAA,UAAU,EAAVA,UALoB;AAMpBG,MAAAA,MAAM,EAAEkB;AANY,KAArB;AASA,WACC,4BAAC,6BAAD,CAAqB,QAArB;AACC,MAAA,GAAG,EAAGN,IADP;AAEC,MAAA,KAAK,EAAGQ;AAFT,OAIGf,KAJH,CADD;AAQA,GAhDD,CAFD;AAoDA,yCACIV,UADJ;AAECJ,IAAAA,QAAQ,EAAEY,cAFX;AAGCX,IAAAA,SAAS,EAAEO,OAHZ;AAICN,IAAAA,SAAS,EAATA,SAJD;AAKCC,IAAAA,eAAe,EAAfA;AALD;AAOA","sourcesContent":["/**\n * External dependencies\n */\nimport { useContextSystem } from '@wp-g2/context';\nimport { cx } from '@wp-g2/styles';\nimport { getValidChildren } from '@wp-g2/utils';\n\n/**\n * Internal dependencies\n */\nimport { ControlGroupContext } from './context';\nimport * as styles from './styles';\n\n/**\n * @param {import('@wp-g2/create-styles').ViewOwnProps<import('./types').Props, 'div'>} props\n */\nexport function useControlGroup( props ) {\n\tconst {\n\t\tchildren,\n\t\tclassName,\n\t\tdirection = 'row',\n\t\ttemplateColumns,\n\t\t...otherProps\n\t} = useContextSystem( props, 'ControlGroup' );\n\n\tconst validChildren = getValidChildren( children );\n\tconst isVertical = direction === 'column';\n\tconst isGrid = !! templateColumns;\n\n\tconst classes = cx(\n\t\tstyles.itemFocus,\n\t\tisGrid && styles.itemGrid,\n\t\tclassName\n\t);\n\n\tconst clonedChildren =\n\t\tvalidChildren &&\n\t\tvalidChildren.map( ( child, index ) => {\n\t\t\tconst isFirst = index === 0;\n\t\t\tconst isLast = index + 1 === validChildren.length;\n\t\t\tconst isOnly = isFirst && isLast;\n\t\t\tconst isMiddle = ! isFirst && ! isLast;\n\n\t\t\t// @ts-ignore\n\t\t\tconst _key = child?.key || index;\n\n\t\t\t/** @type {string | undefined} */\n\t\t\tlet first;\n\t\t\tif ( isFirst ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tfirst = styles.firstRow;\n\t\t\t\t} else {\n\t\t\t\t\tfirst = styles.first;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/** @type {string | undefined} */\n\t\t\tlet last;\n\t\t\tif ( isLast ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tlast = styles.lastRow;\n\t\t\t\t} else {\n\t\t\t\t\tlast = styles.last;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst contextStyles = cx( first, isMiddle && styles.middle, last );\n\n\t\t\tconst contextProps = {\n\t\t\t\tisFirst,\n\t\t\t\tisLast,\n\t\t\t\tisMiddle,\n\t\t\t\tisOnly,\n\t\t\t\tisVertical,\n\t\t\t\tstyles: contextStyles,\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<ControlGroupContext.Provider\n\t\t\t\t\tkey={ _key }\n\t\t\t\t\tvalue={ contextProps }\n\t\t\t\t>\n\t\t\t\t\t{ child }\n\t\t\t\t</ControlGroupContext.Provider>\n\t\t\t);\n\t\t} );\n\n\treturn {\n\t\t...otherProps,\n\t\tchildren: clonedChildren,\n\t\tclassName: classes,\n\t\tdirection,\n\t\ttemplateColumns,\n\t};\n}\n"]}