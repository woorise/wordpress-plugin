"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = NavigationItemBase;

var _element = require("@wordpress/element");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classnames = _interopRequireDefault(require("classnames"));

var _lodash = require("lodash");

var _context = require("../context");

var _useNavigationTreeItem = require("./use-navigation-tree-item");

var _navigationStyles = require("../styles/navigation-styles");

/**
 * External dependencies
 */

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */
function NavigationItemBase(props) {
  var _navigationTree$getIt;

  var children = props.children,
      className = props.className,
      restProps = (0, _objectWithoutProperties2.default)(props, ["children", "className"]);

  var _useState = (0, _element.useState)((0, _lodash.uniqueId)('item-')),
      _useState2 = (0, _slicedToArray2.default)(_useState, 1),
      itemId = _useState2[0];

  (0, _useNavigationTreeItem.useNavigationTreeItem)(itemId, props);

  var _useNavigationContext = (0, _context.useNavigationContext)(),
      navigationTree = _useNavigationContext.navigationTree;

  if (!((_navigationTree$getIt = navigationTree.getItem(itemId)) !== null && _navigationTree$getIt !== void 0 && _navigationTree$getIt._isVisible)) {
    return null;
  }

  var classes = (0, _classnames.default)('components-navigation__item', className);
  return (0, _element.createElement)(_navigationStyles.ItemBaseUI, (0, _extends2.default)({
    className: classes
  }, restProps), children);
}
//# sourceMappingURL=base.js.map