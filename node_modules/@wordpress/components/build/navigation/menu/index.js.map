{"version":3,"sources":["@wordpress/components/src/navigation/menu/index.js"],"names":["NavigationMenu","props","backButtonLabel","children","className","hasSearch","menu","ROOT_MENU","onBackButtonClick","setControlledSearch","onSearch","parentMenu","controlledSearch","search","isSearchDebouncing","title","titleAction","uncontrolledSearch","setUncontrolledSearch","activeMenu","context","isControlledSearch","menuTitleId","classes"],"mappings":";;;;;;;;;AAQA;;;;AALA;;AAUA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AArBA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;AAWe,SAASA,cAAT,CAAyBC,KAAzB,EAAiC;AAAA,MAE9CC,eAF8C,GAc3CD,KAd2C,CAE9CC,eAF8C;AAAA,MAG9CC,QAH8C,GAc3CF,KAd2C,CAG9CE,QAH8C;AAAA,MAI9CC,SAJ8C,GAc3CH,KAd2C,CAI9CG,SAJ8C;AAAA,MAK9CC,SAL8C,GAc3CJ,KAd2C,CAK9CI,SAL8C;AAAA,oBAc3CJ,KAd2C,CAM9CK,IAN8C;AAAA,MAM9CA,IAN8C,4BAMvCC,oBANuC;AAAA,MAO9CC,iBAP8C,GAc3CP,KAd2C,CAO9CO,iBAP8C;AAAA,MAQpCC,mBARoC,GAc3CR,KAd2C,CAQ9CS,QAR8C;AAAA,MAS9CC,UAT8C,GAc3CV,KAd2C,CAS9CU,UAT8C;AAAA,MAUtCC,gBAVsC,GAc3CX,KAd2C,CAU9CY,MAV8C;AAAA,MAW9CC,kBAX8C,GAc3Cb,KAd2C,CAW9Ca,kBAX8C;AAAA,MAY9CC,KAZ8C,GAc3Cd,KAd2C,CAY9Cc,KAZ8C;AAAA,MAa9CC,WAb8C,GAc3Cf,KAd2C,CAa9Ce,WAb8C;;AAAA,kBAeO,uBAAU,EAAV,CAfP;AAAA;AAAA,MAevCC,kBAfuC;AAAA,MAenBC,qBAfmB;;AAgB/C,oDAAuBjB,KAAvB;;AAhB+C,8BAiBxB,qCAjBwB;AAAA,MAiBvCkB,UAjBuC,yBAiBvCA,UAjBuC;;AAmB/C,MAAMC,OAAO,GAAG;AACfd,IAAAA,IAAI,EAAJA,IADe;AAEfO,IAAAA,MAAM,EAAEI;AAFO,GAAhB,CAnB+C,CAwB/C;;AACA,MAAKE,UAAU,KAAKb,IAApB,EAA2B;AAC1B,WACC,4BAAC,8BAAD,CAAuB,QAAvB;AAAgC,MAAA,KAAK,EAAGc;AAAxC,OACGjB,QADH,CADD;AAKA;;AAED,MAAMkB,kBAAkB,GAAG,CAAC,CAAEZ,mBAA9B;AACA,MAAMI,MAAM,GAAGQ,kBAAkB,GAAGT,gBAAH,GAAsBK,kBAAvD;AACA,MAAMP,QAAQ,GAAGW,kBAAkB,GAChCZ,mBADgC,GAEhCS,qBAFH;AAIA,MAAMI,WAAW,+CAAyChB,IAAzC,CAAjB;AACA,MAAMiB,OAAO,GAAG,yBAAY,6BAAZ,EAA2CnB,SAA3C,CAAhB;AAEA,SACC,4BAAC,8BAAD,CAAuB,QAAvB;AAAgC,IAAA,KAAK,EAAGgB;AAAxC,KACC,4BAAC,wBAAD;AAAQ,IAAA,SAAS,EAAGG;AAApB,KACG,CAAEZ,UAAU,IAAIH,iBAAhB,KACD,4BAAC,mBAAD;AACC,IAAA,eAAe,EAAGN,eADnB;AAEC,IAAA,UAAU,EAAGS,UAFd;AAGC,IAAA,OAAO,EAAGH;AAHX,IAFF,EASC,4BAAC,kBAAD;AACC,IAAA,SAAS,EAAGH,SADb;AAEC,IAAA,QAAQ,EAAGK,QAFZ;AAGC,IAAA,MAAM,EAAGG,MAHV;AAIC,IAAA,KAAK,EAAGE,KAJT;AAKC,IAAA,WAAW,EAAGC;AALf,IATD,EAiBC,4BAAC,iCAAD,QACC;AAAI,uBAAkBM;AAAtB,KACGnB,QADH,EAEGU,MAAM,IAAI,CAAEC,kBAAZ,IACD,4BAAC,6BAAD;AAAgC,IAAA,MAAM,EAAGD;AAAzC,IAHF,CADD,CAjBD,CADD,CADD;AA8BA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ROOT_MENU } from '../constants';\nimport { NavigationMenuContext } from './context';\nimport { useNavigationContext } from '../context';\nimport { useNavigationTreeMenu } from './use-navigation-tree-menu';\nimport NavigationBackButton from '../back-button';\nimport NavigationMenuTitle from './menu-title';\nimport NavigationSearchNoResultsFound from './search-no-results-found';\nimport { NavigableMenu } from '../../navigable-container';\nimport { MenuUI } from '../styles/navigation-styles';\n\nexport default function NavigationMenu( props ) {\n\tconst {\n\t\tbackButtonLabel,\n\t\tchildren,\n\t\tclassName,\n\t\thasSearch,\n\t\tmenu = ROOT_MENU,\n\t\tonBackButtonClick,\n\t\tonSearch: setControlledSearch,\n\t\tparentMenu,\n\t\tsearch: controlledSearch,\n\t\tisSearchDebouncing,\n\t\ttitle,\n\t\ttitleAction,\n\t} = props;\n\tconst [ uncontrolledSearch, setUncontrolledSearch ] = useState( '' );\n\tuseNavigationTreeMenu( props );\n\tconst { activeMenu } = useNavigationContext();\n\n\tconst context = {\n\t\tmenu,\n\t\tsearch: uncontrolledSearch,\n\t};\n\n\t// Keep the children rendered to make sure invisible items are included in the navigation tree\n\tif ( activeMenu !== menu ) {\n\t\treturn (\n\t\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t\t{ children }\n\t\t\t</NavigationMenuContext.Provider>\n\t\t);\n\t}\n\n\tconst isControlledSearch = !! setControlledSearch;\n\tconst search = isControlledSearch ? controlledSearch : uncontrolledSearch;\n\tconst onSearch = isControlledSearch\n\t\t? setControlledSearch\n\t\t: setUncontrolledSearch;\n\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\n\tconst classes = classnames( 'components-navigation__menu', className );\n\n\treturn (\n\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t<MenuUI className={ classes }>\n\t\t\t\t{ ( parentMenu || onBackButtonClick ) && (\n\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\tbackButtonLabel={ backButtonLabel }\n\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\tonClick={ onBackButtonClick }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t<NavigationMenuTitle\n\t\t\t\t\thasSearch={ hasSearch }\n\t\t\t\t\tonSearch={ onSearch }\n\t\t\t\t\tsearch={ search }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\ttitleAction={ titleAction }\n\t\t\t\t/>\n\n\t\t\t\t<NavigableMenu>\n\t\t\t\t\t<ul aria-labelledby={ menuTitleId }>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ search && ! isSearchDebouncing && (\n\t\t\t\t\t\t\t<NavigationSearchNoResultsFound search={ search } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ul>\n\t\t\t\t</NavigableMenu>\n\t\t\t</MenuUI>\n\t\t</NavigationMenuContext.Provider>\n\t);\n}\n"]}