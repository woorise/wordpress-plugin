{"version":3,"sources":["@wordpress/components/src/range-control/rail.js"],"names":["isRTL","RangeMark","MarksWrapper","Rail","RangeRail","disabled","marks","min","max","step","value","restProps","Marks","marksData","useMarks","map","mark","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","style"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nexport default function RangeRail( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n\t...restProps\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n} ) {\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( { marks, min = 0, max = 100, step = 1, value = 0 } ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) );\n\t}\n\n\tconst placedMarks = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"]}