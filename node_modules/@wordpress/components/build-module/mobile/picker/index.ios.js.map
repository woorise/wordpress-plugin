{"version":3,"sources":["@wordpress/components/src/mobile/picker/index.ios.js"],"names":["ActionSheetIOS","__","Component","forwardRef","useContext","useDispatch","useSelect","BottomSheetContext","Picker","props","options","onChange","title","destructiveButtonIndex","disabledButtonIndices","getAnchor","isBottomSheetOpened","closeBottomSheet","onHandleClosingBottomSheet","labels","map","label","fullOptions","concat","showActionSheetWithOptions","cancelButtonIndex","anchor","buttonIndex","selected","requiresModal","value","PickerComponent","ref","select","isEditorSidebarOpened","closeGeneralSidebar"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA,SAASA,cAAT,QAA+B,cAA/B;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,UAAhC,QAAkD,oBAAlD;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,iBAAvC;AACA,SAASC,kBAAT,QAAmC,uBAAnC;;IAEMC,M;;;;;;;;;;;;;WACL,yBAAgB;AAAA,wBAWX,KAAKC,KAXM;AAAA,UAEdC,OAFc,eAEdA,OAFc;AAAA,UAGdC,QAHc,eAGdA,QAHc;AAAA,UAIdC,KAJc,eAIdA,KAJc;AAAA,UAKdC,sBALc,eAKdA,sBALc;AAAA,UAMdC,qBANc,eAMdA,qBANc;AAAA,UAOdC,SAPc,eAOdA,SAPc;AAAA,UAQdC,mBARc,eAQdA,mBARc;AAAA,UASdC,gBATc,eASdA,gBATc;AAAA,UAUdC,0BAVc,eAUdA,0BAVc;AAYf,UAAMC,MAAM,GAAGT,OAAO,CAACU,GAAR,CAAa;AAAA,YAAIC,KAAJ,QAAIA,KAAJ;AAAA,eAAiBA,KAAjB;AAAA,OAAb,CAAf;AACA,UAAMC,WAAW,GAAG,CAAErB,EAAE,CAAE,QAAF,CAAJ,EAAmBsB,MAAnB,CAA2BJ,MAA3B,CAApB;AAEAnB,MAAAA,cAAc,CAACwB,0BAAf,CACC;AACCZ,QAAAA,KAAK,EAALA,KADD;AAECF,QAAAA,OAAO,EAAEY,WAFV;AAGCG,QAAAA,iBAAiB,EAAE,CAHpB;AAICZ,QAAAA,sBAAsB,EAAtBA,sBAJD;AAKCC,QAAAA,qBAAqB,EAArBA,qBALD;AAMCY,QAAAA,MAAM,EAAEX,SAAS,IAAIA,SAAS;AAN/B,OADD,EASC,UAAEY,WAAF,EAAmB;AAClB,YAAKA,WAAW,KAAK,CAArB,EAAyB;AACxB;AACA;;AACD,YAAMC,QAAQ,GAAGlB,OAAO,CAAEiB,WAAW,GAAG,CAAhB,CAAxB;;AAEA,YAAKC,QAAQ,CAACC,aAAT,IAA0Bb,mBAA/B,EAAqD;AACpDE,UAAAA,0BAA0B,CAAE,YAAM;AACjCP,YAAAA,QAAQ,CAAEiB,QAAQ,CAACE,KAAX,CAAR;AACA,WAFyB,CAA1B;AAGAb,UAAAA,gBAAgB;AAChB,SALD,MAKO;AACNN,UAAAA,QAAQ,CAAEiB,QAAQ,CAACE,KAAX,CAAR;AACA;AACD,OAvBF;AAyBA;;;WAED,kBAAS;AACR,aAAO,IAAP;AACA;;;;EA7CmB5B,S;;AAgDrB,IAAM6B,eAAe,GAAG5B,UAAU,CAAE,UAAEM,KAAF,EAASuB,GAAT,EAAkB;AACrD,MAAMhB,mBAAmB,GAAGV,SAAS,CAAE,UAAE2B,MAAF;AAAA,WACtCA,MAAM,CAAE,gBAAF,CAAN,CAA2BC,qBAA3B,EADsC;AAAA,GAAF,CAArC;;AADqD,qBAIrB7B,WAAW,CAAE,gBAAF,CAJU;AAAA,MAI7C8B,mBAJ6C,gBAI7CA,mBAJ6C;;AAAA,oBAKd/B,UAAU,CAAEG,kBAAF,CALI;AAAA,MAK7CW,0BAL6C,eAK7CA,0BAL6C;;AAOrD,SACC,cAAC,MAAD;AACC,IAAA,GAAG,EAAGc;AADP,KAEMvB,KAFN;AAGC,IAAA,mBAAmB,EAAGO,mBAHvB;AAIC,IAAA,gBAAgB,EAAGmB,mBAJpB;AAKC,IAAA,0BAA0B,EAAGjB;AAL9B,KADD;AASA,CAhBiC,CAAlC;AAkBA,eAAea,eAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { ActionSheetIOS } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, forwardRef, useContext } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { BottomSheetContext } from '@wordpress/components';\n\nclass Picker extends Component {\n\tpresentPicker() {\n\t\tconst {\n\t\t\toptions,\n\t\t\tonChange,\n\t\t\ttitle,\n\t\t\tdestructiveButtonIndex,\n\t\t\tdisabledButtonIndices,\n\t\t\tgetAnchor,\n\t\t\tisBottomSheetOpened,\n\t\t\tcloseBottomSheet,\n\t\t\tonHandleClosingBottomSheet,\n\t\t} = this.props;\n\t\tconst labels = options.map( ( { label } ) => label );\n\t\tconst fullOptions = [ __( 'Cancel' ) ].concat( labels );\n\n\t\tActionSheetIOS.showActionSheetWithOptions(\n\t\t\t{\n\t\t\t\ttitle,\n\t\t\t\toptions: fullOptions,\n\t\t\t\tcancelButtonIndex: 0,\n\t\t\t\tdestructiveButtonIndex,\n\t\t\t\tdisabledButtonIndices,\n\t\t\t\tanchor: getAnchor && getAnchor(),\n\t\t\t},\n\t\t\t( buttonIndex ) => {\n\t\t\t\tif ( buttonIndex === 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst selected = options[ buttonIndex - 1 ];\n\n\t\t\t\tif ( selected.requiresModal && isBottomSheetOpened ) {\n\t\t\t\t\tonHandleClosingBottomSheet( () => {\n\t\t\t\t\t\tonChange( selected.value );\n\t\t\t\t\t} );\n\t\t\t\t\tcloseBottomSheet();\n\t\t\t\t} else {\n\t\t\t\t\tonChange( selected.value );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nconst PickerComponent = forwardRef( ( props, ref ) => {\n\tconst isBottomSheetOpened = useSelect( ( select ) =>\n\t\tselect( 'core/edit-post' ).isEditorSidebarOpened()\n\t);\n\tconst { closeGeneralSidebar } = useDispatch( 'core/edit-post' );\n\tconst { onHandleClosingBottomSheet } = useContext( BottomSheetContext );\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ ref }\n\t\t\t{ ...props }\n\t\t\tisBottomSheetOpened={ isBottomSheetOpened }\n\t\t\tcloseBottomSheet={ closeGeneralSidebar }\n\t\t\tonHandleClosingBottomSheet={ onHandleClosingBottomSheet }\n\t\t/>\n\t);\n} );\n\nexport default PickerComponent;\n"]}