{"version":3,"sources":["@wordpress/components/src/button/index.js"],"names":["classnames","isArray","uniqueId","deprecated","forwardRef","Tooltip","Icon","VisuallyHidden","withNextComponent","disabledEventsOnDisabledButton","Button","props","ref","href","target","isPrimary","isSmall","isTertiary","isPressed","isBusy","isDefault","isSecondary","isLink","isDestructive","className","disabled","icon","iconPosition","iconSize","showTooltip","tooltipPosition","shortcut","label","children","text","isFocusable","__experimentalIsFocusable","describedBy","additionalProps","since","alternative","classes","trulyDisabled","Tag","undefined","tagProps","type","disabledEvent","event","stopPropagation","preventDefault","shouldShowTooltip","length","descriptionId","describedById","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isArray, uniqueId } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\nimport VisuallyHidden from '../visually-hidden';\nimport { withNextComponent } from './next';\n\nconst disabledEventsOnDisabledButton = [ 'onMouseDown', 'onClick' ];\n\nexport function Button( props, ref ) {\n\tconst {\n\t\thref,\n\t\ttarget,\n\t\tisPrimary,\n\t\tisSmall,\n\t\tisTertiary,\n\t\tisPressed,\n\t\tisBusy,\n\t\tisDefault,\n\t\tisSecondary,\n\t\tisLink,\n\t\tisDestructive,\n\t\tclassName,\n\t\tdisabled,\n\t\ticon,\n\t\ticonPosition = 'left',\n\t\ticonSize,\n\t\tshowTooltip,\n\t\ttooltipPosition,\n\t\tshortcut,\n\t\tlabel,\n\t\tchildren,\n\t\ttext,\n\t\t__experimentalIsFocusable: isFocusable,\n\t\tdescribedBy,\n\t\t...additionalProps\n\t} = props;\n\n\tif ( isDefault ) {\n\t\tdeprecated( 'Button isDefault prop', {\n\t\t\tsince: '5.4',\n\t\t\talternative: 'isSecondary',\n\t\t} );\n\t}\n\n\tconst classes = classnames( 'components-button', className, {\n\t\t'is-secondary': isDefault || isSecondary,\n\t\t'is-primary': isPrimary,\n\t\t'is-small': isSmall,\n\t\t'is-tertiary': isTertiary,\n\t\t'is-pressed': isPressed,\n\t\t'is-busy': isBusy,\n\t\t'is-link': isLink,\n\t\t'is-destructive': isDestructive,\n\t\t'has-text': !! icon && !! children,\n\t\t'has-icon': !! icon,\n\t} );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\tconst Tag = href !== undefined && ! trulyDisabled ? 'a' : 'button';\n\tconst tagProps =\n\t\tTag === 'a'\n\t\t\t? { href, target }\n\t\t\t: {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tdisabled: trulyDisabled,\n\t\t\t\t\t'aria-pressed': isPressed,\n\t\t\t  };\n\n\tif ( disabled && isFocusable ) {\n\t\t// In this case, the button will be disabled, but still focusable and\n\t\t// perceivable by screen reader users.\n\t\ttagProps[ 'aria-disabled' ] = true;\n\n\t\tfor ( const disabledEvent of disabledEventsOnDisabledButton ) {\n\t\t\tadditionalProps[ disabledEvent ] = ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\t}\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst descriptionId = describedBy ? uniqueId() : null;\n\n\tconst describedById =\n\t\tadditionalProps[ 'aria-describedby' ] || descriptionId;\n\n\tconst element = (\n\t\t<Tag\n\t\t\t{ ...tagProps }\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\taria-label={ additionalProps[ 'aria-label' ] || label }\n\t\t\taria-describedby={ describedById }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ icon && iconPosition === 'left' && (\n\t\t\t\t<Icon icon={ icon } size={ iconSize } />\n\t\t\t) }\n\t\t\t{ text && <>{ text }</> }\n\t\t\t{ icon && iconPosition === 'right' && (\n\t\t\t\t<Icon icon={ icon } size={ iconSize } />\n\t\t\t) }\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ element }\n\t\t\t\t{ describedBy && (\n\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t<span id={ descriptionId }>{ describedBy }</span>\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Tooltip\n\t\t\t\ttext={ describedBy ? describedBy : label }\n\t\t\t\tshortcut={ shortcut }\n\t\t\t\tposition={ tooltipPosition }\n\t\t\t>\n\t\t\t\t{ element }\n\t\t\t</Tooltip>\n\t\t\t{ describedBy && (\n\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t<span id={ descriptionId }>{ describedBy }</span>\n\t\t\t\t</VisuallyHidden>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default withNextComponent( forwardRef( Button ) );\n"]}