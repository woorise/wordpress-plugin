{"version":3,"sources":["@wordpress/components/src/ui/control-group/hook.js"],"names":["useContextSystem","cx","getValidChildren","ControlGroupContext","styles","useControlGroup","props","children","className","direction","templateColumns","otherProps","validChildren","isVertical","isGrid","classes","itemFocus","itemGrid","clonedChildren","map","child","index","isFirst","isLast","length","isOnly","isMiddle","_key","key","first","firstRow","last","lastRow","contextStyles","middle","contextProps"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA,SAASA,gBAAT,QAAiC,gBAAjC;AACA,SAASC,EAAT,QAAmB,eAAnB;AACA,SAASC,gBAAT,QAAiC,cAAjC;AAEA;AACA;AACA;;AACA,SAASC,mBAAT,QAAoC,WAApC;AACA,OAAO,KAAKC,MAAZ,MAAwB,UAAxB;AAEA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAA0BC,KAA1B,EAAkC;AAAA,0BAOpCN,gBAAgB,CAAEM,KAAF,EAAS,cAAT,CAPoB;AAAA,MAEvCC,QAFuC,qBAEvCA,QAFuC;AAAA,MAGvCC,SAHuC,qBAGvCA,SAHuC;AAAA,gDAIvCC,SAJuC;AAAA,MAIvCA,SAJuC,sCAI3B,KAJ2B;AAAA,MAKvCC,eALuC,qBAKvCA,eALuC;AAAA,MAMpCC,UANoC;;AASxC,MAAMC,aAAa,GAAGV,gBAAgB,CAAEK,QAAF,CAAtC;AACA,MAAMM,UAAU,GAAGJ,SAAS,KAAK,QAAjC;AACA,MAAMK,MAAM,GAAG,CAAC,CAAEJ,eAAlB;AAEA,MAAMK,OAAO,GAAGd,EAAE,CACjBG,MAAM,CAACY,SADU,EAEjBF,MAAM,IAAIV,MAAM,CAACa,QAFA,EAGjBT,SAHiB,CAAlB;AAMA,MAAMU,cAAc,GACnBN,aAAa,IACbA,aAAa,CAACO,GAAd,CAAmB,UAAEC,KAAF,EAASC,KAAT,EAAoB;AACtC,QAAMC,OAAO,GAAGD,KAAK,KAAK,CAA1B;AACA,QAAME,MAAM,GAAGF,KAAK,GAAG,CAAR,KAAcT,aAAa,CAACY,MAA3C;AACA,QAAMC,MAAM,GAAGH,OAAO,IAAIC,MAA1B;AACA,QAAMG,QAAQ,GAAG,CAAEJ,OAAF,IAAa,CAAEC,MAAhC,CAJsC,CAMtC;;AACA,QAAMI,IAAI,GAAG,CAAAP,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEQ,GAAP,KAAcP,KAA3B;AAEA;;;AACA,QAAIQ,KAAJ;;AACA,QAAKP,OAAL,EAAe;AACd,UAAKT,UAAL,EAAkB;AACjBgB,QAAAA,KAAK,GAAGzB,MAAM,CAAC0B,QAAf;AACA,OAFD,MAEO;AACND,QAAAA,KAAK,GAAGzB,MAAM,CAACyB,KAAf;AACA;AACD;AAED;;;AACA,QAAIE,IAAJ;;AACA,QAAKR,MAAL,EAAc;AACb,UAAKV,UAAL,EAAkB;AACjBkB,QAAAA,IAAI,GAAG3B,MAAM,CAAC4B,OAAd;AACA,OAFD,MAEO;AACND,QAAAA,IAAI,GAAG3B,MAAM,CAAC2B,IAAd;AACA;AACD;;AAED,QAAME,aAAa,GAAGhC,EAAE,CAAE4B,KAAF,EAASH,QAAQ,IAAItB,MAAM,CAAC8B,MAA5B,EAAoCH,IAApC,CAAxB;AAEA,QAAMI,YAAY,GAAG;AACpBb,MAAAA,OAAO,EAAPA,OADoB;AAEpBC,MAAAA,MAAM,EAANA,MAFoB;AAGpBG,MAAAA,QAAQ,EAARA,QAHoB;AAIpBD,MAAAA,MAAM,EAANA,MAJoB;AAKpBZ,MAAAA,UAAU,EAAVA,UALoB;AAMpBT,MAAAA,MAAM,EAAE6B;AANY,KAArB;AASA,WACC,cAAC,mBAAD,CAAqB,QAArB;AACC,MAAA,GAAG,EAAGN,IADP;AAEC,MAAA,KAAK,EAAGQ;AAFT,OAIGf,KAJH,CADD;AAQA,GAhDD,CAFD;AAoDA,yCACIT,UADJ;AAECJ,IAAAA,QAAQ,EAAEW,cAFX;AAGCV,IAAAA,SAAS,EAAEO,OAHZ;AAICN,IAAAA,SAAS,EAATA,SAJD;AAKCC,IAAAA,eAAe,EAAfA;AALD;AAOA","sourcesContent":["/**\n * External dependencies\n */\nimport { useContextSystem } from '@wp-g2/context';\nimport { cx } from '@wp-g2/styles';\nimport { getValidChildren } from '@wp-g2/utils';\n\n/**\n * Internal dependencies\n */\nimport { ControlGroupContext } from './context';\nimport * as styles from './styles';\n\n/**\n * @param {import('@wp-g2/create-styles').ViewOwnProps<import('./types').Props, 'div'>} props\n */\nexport function useControlGroup( props ) {\n\tconst {\n\t\tchildren,\n\t\tclassName,\n\t\tdirection = 'row',\n\t\ttemplateColumns,\n\t\t...otherProps\n\t} = useContextSystem( props, 'ControlGroup' );\n\n\tconst validChildren = getValidChildren( children );\n\tconst isVertical = direction === 'column';\n\tconst isGrid = !! templateColumns;\n\n\tconst classes = cx(\n\t\tstyles.itemFocus,\n\t\tisGrid && styles.itemGrid,\n\t\tclassName\n\t);\n\n\tconst clonedChildren =\n\t\tvalidChildren &&\n\t\tvalidChildren.map( ( child, index ) => {\n\t\t\tconst isFirst = index === 0;\n\t\t\tconst isLast = index + 1 === validChildren.length;\n\t\t\tconst isOnly = isFirst && isLast;\n\t\t\tconst isMiddle = ! isFirst && ! isLast;\n\n\t\t\t// @ts-ignore\n\t\t\tconst _key = child?.key || index;\n\n\t\t\t/** @type {string | undefined} */\n\t\t\tlet first;\n\t\t\tif ( isFirst ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tfirst = styles.firstRow;\n\t\t\t\t} else {\n\t\t\t\t\tfirst = styles.first;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/** @type {string | undefined} */\n\t\t\tlet last;\n\t\t\tif ( isLast ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tlast = styles.lastRow;\n\t\t\t\t} else {\n\t\t\t\t\tlast = styles.last;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst contextStyles = cx( first, isMiddle && styles.middle, last );\n\n\t\t\tconst contextProps = {\n\t\t\t\tisFirst,\n\t\t\t\tisLast,\n\t\t\t\tisMiddle,\n\t\t\t\tisOnly,\n\t\t\t\tisVertical,\n\t\t\t\tstyles: contextStyles,\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<ControlGroupContext.Provider\n\t\t\t\t\tkey={ _key }\n\t\t\t\t\tvalue={ contextProps }\n\t\t\t\t>\n\t\t\t\t\t{ child }\n\t\t\t\t</ControlGroupContext.Provider>\n\t\t\t);\n\t\t} );\n\n\treturn {\n\t\t...otherProps,\n\t\tchildren: clonedChildren,\n\t\tclassName: classes,\n\t\tdirection,\n\t\ttemplateColumns,\n\t};\n}\n"]}