{"version":3,"sources":["@wordpress/components/src/ui/font-size-control/utils.js"],"names":["__","ui","createUnitValue","parseUnitValue","DEFAULT_FONT_SIZE","CUSTOM_FONT_SIZE","MAX_FONT_SIZE_DISPLAY","ASIDE_CONTROL_WIDTH","hasUnit","value","unit","getFontSize","values","find","item","size","isCustomValue","isCustomSelectedItem","selectedItem","key","getSelectValueFromFontSize","fontSizes","fontSize","slug","getSelectOptions","disableCustomFontSizes","hasCustomValue","options","length","name","undefined","push","map","option","style","getInputValue","hasUnits","noUnitsValue","parseInt","isPixelValue","endsWith","inputValue","getSelectTemplateColumns","withNumberInput","px","getSliderTemplateColumns"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA,SAASA,EAAT,QAAmB,iBAAnB;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,eAAnB;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,cAAhD;AAEA,IAAMC,iBAAiB,GAAG,SAA1B;AACA,IAAMC,gBAAgB,GAAG,QAAzB;AACA,IAAMC,qBAAqB,GAAG,MAA9B;AACA,IAAMC,mBAAmB,GAAG,EAA5B;AAEA,OAAO,SAASC,OAAT,CAAkBC,KAAlB,EAA0B;AAAA,wBACbN,cAAc,CAAEM,KAAF,CADD;AAAA;AAAA,MACtBC,IADsB;;AAEhC,SAAO,CAAC,CAAEA,IAAV;AACA;;AAED,SAASC,WAAT,GAA2C;AAAA,MAArBC,MAAqB,uEAAZ,EAAY;AAAA,MAARH,KAAQ;AAC1C,SAAOG,MAAM,CAACC,IAAP,CAAa,UAAEC,IAAF;AAAA,WAAYA,IAAI,CAACC,IAAL,KAAcN,KAA1B;AAAA,GAAb,CAAP;AACA;;AAED,OAAO,SAASO,aAAT,GAA6C;AAAA,MAArBJ,MAAqB,uEAAZ,EAAY;AAAA,MAARH,KAAQ;AACnD,MAAMK,IAAI,GAAGH,WAAW,CAAEC,MAAF,EAAUH,KAAV,CAAxB;AACA,SAAO,CAAC,CAAEK,IAAV;AACA;AAED,OAAO,SAASG,oBAAT,CAA+BC,YAA/B,EAA8C;AACpD,SAAO,CAAAA,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEC,GAAd,MAAsBd,gBAA7B;AACA;AAED,OAAO,SAASe,0BAAT,CAAqCC,SAArC,EAAgDZ,KAAhD,EAAwD;AAC9D,MAAK,CAAEA,KAAP,EAAe,OAAOL,iBAAP;AAEf,MAAMkB,QAAQ,GAAGX,WAAW,CAAEU,SAAF,EAAaZ,KAAb,CAA5B;AACA,SAAOa,QAAQ,GAAGA,QAAQ,CAACC,IAAZ,GAAmBlB,gBAAlC;AACA;AAED,OAAO,SAASmB,gBAAT,OAIH;AAAA,MAHHC,sBAGG,QAHHA,sBAGG;AAAA,MAFHC,cAEG,QAFHA,cAEG;AAAA,MADHC,OACG,QADHA,OACG;AACH,MAAKF,sBAAsB,IAAI,CAAEE,OAAO,CAACC,MAAzC,EAAkD,OAAO,IAAP;AAElDD,EAAAA,OAAO,IACN;AAAEJ,IAAAA,IAAI,EAAEnB,iBAAR;AAA2ByB,IAAAA,IAAI,EAAE7B,EAAE,CAAE,SAAF,CAAnC;AAAkDe,IAAAA,IAAI,EAAEe;AAAxD,GADM,4BAEHH,OAFG,EAAP;;AAKA,MAAK,CAAED,cAAF,IAAoB,CAAED,sBAA3B,EAAoD;AACnDE,IAAAA,OAAO,CAACI,IAAR,CAAc;AAAER,MAAAA,IAAI,EAAElB,gBAAR;AAA0BwB,MAAAA,IAAI,EAAE7B,EAAE,CAAE,QAAF;AAAlC,KAAd;AACA;;AAED,SAAO2B,OAAO,CAACK,GAAR,CAAa,UAAEC,MAAF,EAAc;AACjC,QAAMX,QAAQ,GACb,OAAOW,MAAM,CAAClB,IAAd,KAAuB,QAAvB,GACGb,eAAe,CAAE+B,MAAM,CAAClB,IAAT,EAAe,IAAf,CADlB,GAEGkB,MAAM,CAAClB,IAHX;AAKA,2CACIkB,MADJ;AAECd,MAAAA,GAAG,EAAEc,MAAM,CAACV,IAFb;AAGCW,MAAAA,KAAK,EAAE;AACNZ,QAAAA,QAAQ,iBAAWA,QAAX,eAA0BhB,qBAA1B;AADF;AAHR;AAOA,GAbM,CAAP;AAcA;AAED,OAAO,SAAS6B,aAAT,GAAgD;AAAA;;AAAA,MAAxBd,SAAwB,uEAAZ,EAAY;AAAA,MAARZ,KAAQ;AACtD,MAAM2B,QAAQ,GAAG5B,OAAO,CAAEC,KAAK,oBAAIY,SAAS,CAAE,CAAF,CAAb,gDAAI,YAAgBN,IAApB,CAAP,CAAxB;AAEA,MAAIsB,YAAJ;;AACA,MAAK,CAAED,QAAP,EAAkB;AACjBC,IAAAA,YAAY,GAAG5B,KAAf;AACA,GAFD,MAEO;AACN4B,IAAAA,YAAY,GAAGC,QAAQ,CAAE7B,KAAF,CAAvB;AACA;;AAED,MAAM8B,YAAY,GACjB,OAAO9B,KAAP,KAAiB,QAAjB,IACE,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAAC+B,QAAN,CAAgB,IAAhB,CAFhC;AAIA,MAAMC,UAAU,GAAKF,YAAY,IAAIF,YAAlB,IAAoC,EAAvD;AAEA,SAAOI,UAAP;AACA;AAED,OAAO,SAASC,wBAAT,CAAmCC,eAAnC,EAAqD;AAC3D,SAAOA,eAAe,yCACa1C,EAAE,CAACQ,KAAH,CAASmC,EAAT,CAChCrC,mBAAmB,GAAG,CADU,CADb,+CAIaN,EAAE,CAACQ,KAAH,CAASmC,EAAT,CAChCrC,mBADgC,CAJb,MAAtB;AAOA;AAED,OAAO,SAASsC,wBAAT,GAAoC;AAC1C,oCAA4B5C,EAAE,CAACQ,KAAH,CAASmC,EAAT,CAAarC,mBAAb,CAA5B;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ui } from '@wp-g2/styles';\nimport { createUnitValue, parseUnitValue } from '@wp-g2/utils';\n\nconst DEFAULT_FONT_SIZE = 'default';\nconst CUSTOM_FONT_SIZE = 'custom';\nconst MAX_FONT_SIZE_DISPLAY = '25px';\nconst ASIDE_CONTROL_WIDTH = 70;\n\nexport function hasUnit( value ) {\n\tconst [ , unit ] = parseUnitValue( value );\n\treturn !! unit;\n}\n\nfunction getFontSize( values = [], value ) {\n\treturn values.find( ( item ) => item.size === value );\n}\n\nexport function isCustomValue( values = [], value ) {\n\tconst item = getFontSize( values, value );\n\treturn !! item;\n}\n\nexport function isCustomSelectedItem( selectedItem ) {\n\treturn selectedItem?.key === CUSTOM_FONT_SIZE;\n}\n\nexport function getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( ! value ) return DEFAULT_FONT_SIZE;\n\n\tconst fontSize = getFontSize( fontSizes, value );\n\treturn fontSize ? fontSize.slug : CUSTOM_FONT_SIZE;\n}\n\nexport function getSelectOptions( {\n\tdisableCustomFontSizes,\n\thasCustomValue,\n\toptions,\n} ) {\n\tif ( disableCustomFontSizes && ! options.length ) return null;\n\n\toptions = [\n\t\t{ slug: DEFAULT_FONT_SIZE, name: __( 'Default' ), size: undefined },\n\t\t...options,\n\t];\n\n\tif ( ! hasCustomValue && ! disableCustomFontSizes ) {\n\t\toptions.push( { slug: CUSTOM_FONT_SIZE, name: __( 'Custom' ) } );\n\t}\n\n\treturn options.map( ( option ) => {\n\t\tconst fontSize =\n\t\t\ttypeof option.size === 'number'\n\t\t\t\t? createUnitValue( option.size, 'px' )\n\t\t\t\t: option.size;\n\n\t\treturn {\n\t\t\t...option,\n\t\t\tkey: option.slug,\n\t\t\tstyle: {\n\t\t\t\tfontSize: `min( ${ fontSize }, ${ MAX_FONT_SIZE_DISPLAY } )`,\n\t\t\t},\n\t\t};\n\t} );\n}\n\nexport function getInputValue( fontSizes = [], value ) {\n\tconst hasUnits = hasUnit( value || fontSizes[ 0 ]?.size );\n\n\tlet noUnitsValue;\n\tif ( ! hasUnits ) {\n\t\tnoUnitsValue = value;\n\t} else {\n\t\tnoUnitsValue = parseInt( value );\n\t}\n\n\tconst isPixelValue =\n\t\ttypeof value === 'number' ||\n\t\t( typeof value === 'string' && value.endsWith( 'px' ) );\n\n\tconst inputValue = ( isPixelValue && noUnitsValue ) || '';\n\n\treturn inputValue;\n}\n\nexport function getSelectTemplateColumns( withNumberInput ) {\n\treturn withNumberInput\n\t\t? `minmax(0, 1fr) minmax(auto, ${ ui.value.px(\n\t\t\t\tASIDE_CONTROL_WIDTH * 2\n\t\t  ) })`\n\t\t: `minmax(0, 2fr) minmax(auto, ${ ui.value.px(\n\t\t\t\tASIDE_CONTROL_WIDTH\n\t\t  ) })`;\n}\n\nexport function getSliderTemplateColumns() {\n\treturn `2fr minmax(auto, ${ ui.value.px( ASIDE_CONTROL_WIDTH ) })`;\n}\n"]}