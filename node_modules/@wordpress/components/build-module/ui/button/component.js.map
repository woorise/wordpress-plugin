{"version":3,"sources":["@wordpress/components/src/ui/button/component.js"],"names":["contextConnect","useContextSystem","cx","noop","uniqueId","useCallback","BaseButton","useButtonGroupContext","VisuallyHidden","styles","Button","props","forwardedRef","children","className","currentColor","icon","isActive","isActiveProp","isControl","isSubtle","onClick","size","type","variant","describedBy","otherProps","buttonGroup","enableSelectNone","isWithinButtonGroup","isButtonGroupActive","state","value","isIconOnly","descriptionId","undefined","describedById","handleOnClickWithinButtonGroup","event","preventDefault","stopPropagation","setState","handleOnClick","classes","control","subtle","subtleControl","subtleControlActive","ConnectedButton"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { contextConnect, useContextSystem } from '@wp-g2/context';\nimport { cx } from '@wp-g2/styles';\nimport { noop, uniqueId } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { BaseButton } from '../base-button';\nimport { useButtonGroupContext } from '../button-group';\nimport { VisuallyHidden } from '../visually-hidden';\nimport * as styles from './styles';\n\n/**\n * @typedef {'primary' | 'secondary' | 'tertiary' | 'plain' | 'link'} ButtonVariant\n */\n\n/**\n * @typedef OwnProps\n * @property {ButtonVariant} [variant='secondary'] Determinds the `Button` variant to render.\n * @property {string} [describedBy] Text for element pointed to by aria-describedby (id is auto-generated if aria-describedby is not provided).\n */\n\n/**\n * @typedef {import('../base-button/types').Props & OwnProps} Props\n */\n\n/**\n * @param {import('@wp-g2/create-styles').ViewOwnProps<Props, 'button'>} props\n * @param {import('react').Ref<any>} forwardedRef\n */\nfunction Button( props, forwardedRef ) {\n\tconst {\n\t\tchildren,\n\t\tclassName,\n\t\tcurrentColor,\n\t\ticon,\n\t\tisActive: isActiveProp = false,\n\t\tisControl = false,\n\t\tisSubtle = false,\n\t\tonClick = noop,\n\t\tsize = 'medium',\n\t\ttype = 'button',\n\t\tvariant = 'secondary',\n\t\tdescribedBy,\n\t\t...otherProps\n\t} = useContextSystem( props, 'Button' );\n\n\tconst { buttonGroup, enableSelectNone } = useButtonGroupContext();\n\tconst isWithinButtonGroup = !! buttonGroup;\n\tconst isButtonGroupActive =\n\t\tisWithinButtonGroup && buttonGroup?.state === otherProps.value;\n\n\tconst isActive = isActiveProp || isButtonGroupActive;\n\tconst isIconOnly = !! icon && ! children;\n\n\tconst descriptionId = describedBy ? uniqueId() : undefined;\n\tconst describedById = otherProps[ 'aria-describedby' ] || descriptionId;\n\n\tconst handleOnClickWithinButtonGroup = useCallback(\n\t\t( event ) => {\n\t\t\tif (\n\t\t\t\tisWithinButtonGroup &&\n\t\t\t\tenableSelectNone &&\n\t\t\t\tisButtonGroupActive &&\n\t\t\t\tbuttonGroup\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tbuttonGroup.setState( undefined );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tbuttonGroup,\n\t\t\tenableSelectNone,\n\t\t\tisButtonGroupActive,\n\t\t\tisWithinButtonGroup,\n\t\t]\n\t);\n\n\tconst handleOnClick = useCallback(\n\t\t( event ) => {\n\t\t\tonClick( event );\n\t\t\thandleOnClickWithinButtonGroup( event );\n\t\t},\n\t\t[ handleOnClickWithinButtonGroup, onClick ]\n\t);\n\n\tconst classes = cx(\n\t\tstyles.Button,\n\t\tstyles[ variant ],\n\t\tstyles[ size ],\n\t\tisControl && styles.control,\n\t\tisSubtle && styles.subtle,\n\t\tisSubtle && isControl && styles.subtleControl,\n\t\tisButtonGroupActive && styles.subtleControlActive,\n\t\tisIconOnly && styles.icon,\n\t\tcurrentColor && styles.currentColor,\n\t\tclassName\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<BaseButton\n\t\t\t\tclassName={ classes }\n\t\t\t\ticon={ icon }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tonClick={ handleOnClick }\n\t\t\t\tref={ forwardedRef }\n\t\t\t\taria-describedby={ describedById }\n\t\t\t\ttype={ type }\n\t\t\t\t{ ...otherProps }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</BaseButton>\n\t\t\t{ describedBy && (\n\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t<span id={ descriptionId }>{ describedBy }</span>\n\t\t\t\t</VisuallyHidden>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\n/**\n * `Button` is a component used to trigger an action or event, such as submitting a Form, opening a Dialog, canceling an action, or performing a delete operation.\n *\n * @example\n * ```jsx\n * import { Button } from `@wordpress/components/ui`;\n *\n * function Example() {\n *   return <Button variant=\"secondary\">Code is Poetry</Button>;\n * }\n * ```\n */\nconst ConnectedButton = contextConnect( Button, 'Button' );\n\nexport default ConnectedButton;\n"]}