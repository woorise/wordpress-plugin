{"version":3,"sources":["@wordpress/components/src/ui/tooltip-button/component.tsx"],"names":["useContextSystem","contextConnect","Button","Tooltip","TooltipButton","props","forwardedRef","tooltip","disabled","isFocusable","children","buttonProps","trulyDisabled","shouldShowTooltip","content","shortcut","Array","isArray","length"],"mappings":";;;;AAAA;AACA;AACA;AAEA;AAEA,SAASA,gBAAT,EAA2BC,cAA3B,QAAiD,gBAAjD;AAEA;AACA;AACA;;AAGA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,OAAT,QAAwB,YAAxB;;AAMA,SAASC,aAAT,CACCC,KADD,EAECC,YAFD,EAGe;AAAA,0BAOVN,gBAAgB,CAAEK,KAAF,EAAS,eAAT,CAPN;AAAA,MAEbE,OAFa,qBAEbA,OAFa;AAAA,gDAGbC,QAHa;AAAA,MAGbA,QAHa,sCAGF,KAHE;AAAA,gDAIbC,WAJa;AAAA,MAIbA,WAJa,sCAIC,IAJD;AAAA,MAKbC,QALa,qBAKbA,QALa;AAAA,MAMVC,WANU;;AASd,MAAMC,aAAa,GAAGJ,QAAQ,IAAI,CAAEC,WAApC,CATc,CAWd;;AACA,MAAMI,iBAAiB,GACtBN,OAAO,IACP,CAAEK,aADF,MAEA;AACEL,EAAAA,OAAO,CAACO,OAAR,IACD;AACAP,EAAAA,OAAO,CAACQ,QAFP,IAGD;AACE,GAAC,CAAEJ,WAAW,CAAE,YAAF,CAAd,MACD;AACE,GAAED,QAAF,IACCM,KAAK,CAACC,OAAN,CAAeP,QAAf,KAA6B,CAAEA,QAAQ,CAACQ,MAH1C,CAPH,CADD;;AAaA,MAAK,CAAEL,iBAAP,EAA2B;AAC1B,WACC,cAAC,MAAD;AACC,MAAA,QAAQ,EAAGL,QADZ;AAEC,MAAA,WAAW,EAAGC;AAFf,OAGME,WAHN;AAIC,MAAA,GAAG,EAAGL;AAJP,QAMGI,QANH,CADD;AAUA;;AAED,SACC,cAAC,OAAD,EAAcH,OAAd,EACC,cAAC,MAAD;AACC,IAAA,QAAQ,EAAGC,QADZ;AAEC,IAAA,WAAW,EAAGC;AAFf,KAGME,WAHN;AAIC,IAAA,GAAG,EAAGL;AAJP,MAMGI,QANH,CADD,CADD;AAYA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAeT,cAAc,CAAEG,aAAF,EAAiB,eAAjB,CAA7B","sourcesContent":["/**\n * External dependencies\n */\nimport type { ViewOwnProps } from '@wp-g2/create-styles';\n// eslint-disable-next-line no-restricted-imports\nimport type { Ref } from 'react';\nimport { useContextSystem, contextConnect } from '@wp-g2/context';\n\n/**\n * Internal dependencies\n */\nimport type { Props as ButtonProps } from '../button/component';\nimport type { Props as TooltipProps } from '../tooltip/types';\nimport { Button } from '../button';\nimport { Tooltip } from '../tooltip';\n\nexport interface TooltipButtonProps extends ButtonProps {\n\ttooltip?: TooltipProps;\n}\n\nfunction TooltipButton(\n\tprops: ViewOwnProps< TooltipButtonProps, 'button' >,\n\tforwardedRef: Ref< any >\n): JSX.Element {\n\tconst {\n\t\ttooltip,\n\t\tdisabled = false,\n\t\tisFocusable = true,\n\t\tchildren,\n\t\t...buttonProps\n\t} = useContextSystem( props, 'TooltipButton' );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\ttooltip &&\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( tooltip.content ||\n\t\t\t// there's a shortcut or...\n\t\t\ttooltip.shortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! buttonProps[ 'aria-label' ] &&\n\t\t\t\t// the children are empty\n\t\t\t\t( ! children ||\n\t\t\t\t\t( Array.isArray( children ) && ! children.length ) ) ) );\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tisFocusable={ isFocusable }\n\t\t\t\t{ ...buttonProps }\n\t\t\t\tref={ forwardedRef }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Tooltip { ...tooltip }>\n\t\t\t<Button\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tisFocusable={ isFocusable }\n\t\t\t\t{ ...buttonProps }\n\t\t\t\tref={ forwardedRef }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Button>\n\t\t</Tooltip>\n\t);\n}\n\n/**\n * `TooltipButton` is a simple component that composes `Button` with a `Tooltip`.\n * It mostly exists as an adaptive layer between the `Button` it uses and the original `Button`.\n *\n * ```jsx\n * import { TooltipButton } from `@wordpress/components/ui`;\n *\n * function Example() {\n * \treturn (\n * \t\t<TooltipButton\n * \t\t\tvariant=\"secondary\"\n * \t\t\ttooltip={ { content: 'WordPress.org' } }\n * \t\t>\n * \t\t\tCode is Poetry\n * \t\t</TooltipButton>\n * \t);\n * }\n * ```\n */\nexport default contextConnect( TooltipButton, 'TooltipButton' );\n"]}