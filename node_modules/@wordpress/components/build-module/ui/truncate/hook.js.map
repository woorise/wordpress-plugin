{"version":3,"sources":["@wordpress/components/src/ui/truncate/hook.js"],"names":["useContextSystem","css","cx","useMemo","styles","TRUNCATE_ELLIPSIS","TRUNCATE_TYPE","truncateContent","useTruncate","props","className","children","ellipsis","ellipsizeMode","auto","limit","numberOfLines","otherProps","truncatedContent","shouldTruncate","classes","sx","Truncate"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA,SAASA,gBAAT,QAAiC,gBAAjC;AACA,SAASC,GAAT,EAAcC,EAAd,QAAwB,eAAxB;AAEA;AACA;AACA;;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA;AACA;AACA;;AACA,OAAO,KAAKC,MAAZ,MAAwB,UAAxB;AACA,SAASC,iBAAT,EAA4BC,aAA5B,EAA2CC,eAA3C,QAAkE,SAAlE;AAEA;AACA;AACA;;AACA,eAAe,SAASC,WAAT,CAAsBC,KAAtB,EAA8B;AAAA,0BASxCT,gBAAgB,CAAES,KAAF,EAAS,UAAT,CATwB;AAAA,MAE3CC,SAF2C,qBAE3CA,SAF2C;AAAA,MAG3CC,QAH2C,qBAG3CA,QAH2C;AAAA,gDAI3CC,QAJ2C;AAAA,MAI3CA,QAJ2C,sCAIhCP,iBAJgC;AAAA,iDAK3CQ,aAL2C;AAAA,MAK3CA,aAL2C,uCAK3BP,aAAa,CAACQ,IALa;AAAA,gDAM3CC,KAN2C;AAAA,MAM3CA,KAN2C,sCAMnC,CANmC;AAAA,gDAO3CC,aAP2C;AAAA,MAO3CA,aAP2C,sCAO3B,CAP2B;AAAA,MAQxCC,UARwC;;AAW5C,MAAMC,gBAAgB,GAAGX,eAAe,CACvC,OAAOI,QAAP,KAAoB,QAApB;AAA+B;AAAwBA,EAAAA,QAAvD,GAAoE,EAD7B,EAEvC;AACCC,IAAAA,QAAQ,EAARA,QADD;AAECC,IAAAA,aAAa,EAAbA,aAFD;AAGCE,IAAAA,KAAK,EAALA,KAHD;AAICC,IAAAA,aAAa,EAAbA;AAJD,GAFuC,CAAxC;AAUA,MAAMG,cAAc,GAAGN,aAAa,KAAKP,aAAa,CAACQ,IAAvD;AAEA,MAAMM,OAAO,GAAGjB,OAAO,CAAE,YAAM;AAC9B,QAAMkB,EAAE,GAAG,EAAX;AAEAA,IAAAA,EAAE,CAACL,aAAH,GAAmBf,GAAnB,wMAEwBe,aAFxB;AAOA,WAAOd,EAAE,CACRiB,cAAc,IAAI,CAAEH,aAApB,IAAqCZ,MAAM,CAACkB,QADpC,EAERH,cAAc,IAAI,CAAC,CAAEH,aAArB,IAAsCK,EAAE,CAACL,aAFjC,EAGRN,SAHQ,CAAT;AAKA,GAfsB,EAepB,CAAEA,SAAF,EAAaM,aAAb,EAA4BG,cAA5B,CAfoB,CAAvB;AAiBA,yCAAYF,UAAZ;AAAwBP,IAAAA,SAAS,EAAEU,OAAnC;AAA4CT,IAAAA,QAAQ,EAAEO;AAAtD;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { useContextSystem } from '@wp-g2/context';\nimport { css, cx } from '@wp-g2/styles';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport * as styles from './styles';\nimport { TRUNCATE_ELLIPSIS, TRUNCATE_TYPE, truncateContent } from './utils';\n\n/**\n * @param {import('@wp-g2/create-styles').ViewOwnProps<import('./types').Props, 'span'>} props\n */\nexport default function useTruncate( props ) {\n\tconst {\n\t\tclassName,\n\t\tchildren,\n\t\tellipsis = TRUNCATE_ELLIPSIS,\n\t\tellipsizeMode = TRUNCATE_TYPE.auto,\n\t\tlimit = 0,\n\t\tnumberOfLines = 0,\n\t\t...otherProps\n\t} = useContextSystem( props, 'Truncate' );\n\n\tconst truncatedContent = truncateContent(\n\t\ttypeof children === 'string' ? /** @type {string} */ ( children ) : '',\n\t\t{\n\t\t\tellipsis,\n\t\t\tellipsizeMode,\n\t\t\tlimit,\n\t\t\tnumberOfLines,\n\t\t}\n\t);\n\n\tconst shouldTruncate = ellipsizeMode === TRUNCATE_TYPE.auto;\n\n\tconst classes = useMemo( () => {\n\t\tconst sx = {};\n\n\t\tsx.numberOfLines = css`\n\t\t\t-webkit-box-orient: vertical;\n\t\t\t-webkit-line-clamp: ${ numberOfLines };\n\t\t\tdisplay: -webkit-box;\n\t\t\toverflow: hidden;\n\t\t`;\n\n\t\treturn cx(\n\t\t\tshouldTruncate && ! numberOfLines && styles.Truncate,\n\t\t\tshouldTruncate && !! numberOfLines && sx.numberOfLines,\n\t\t\tclassName\n\t\t);\n\t}, [ className, numberOfLines, shouldTruncate ] );\n\n\treturn { ...otherProps, className: classes, children: truncatedContent };\n}\n"]}