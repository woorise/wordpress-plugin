{"version":3,"sources":["@wordpress/components/src/drop-zone/provider.js"],"names":["find","some","filter","includes","throttle","createContext","useRef","useContext","getFilesFromDataTransfer","isShallowEqual","useRefEffect","Context","Provider","getDragEventType","dataTransfer","types","length","isTypeSupportedByDropZone","type","dropZone","Boolean","onFilesDrop","onHTMLDrop","onDrop","isWithinElementBounds","element","x","y","rect","getBoundingClientRect","bottom","top","left","right","getPosition","event","detail","window","CustomEvent","clientX","clientY","getHoveredDropZone","dropZones","position","dragEventType","hoveredDropZones","Array","from","current","zone","container","isRelative","parentElement","subZone","contains","INITIAL_DROP_ZONE_STATE","isDraggingOverDocument","isDraggingOverElement","useDrop","node","ownerDocument","defaultView","lastRelative","updateDragZones","target","hoveredDropZone","offsetParent","forEach","isDraggingOverDropZone","newState","withPosition","setState","state","preventDefault","throttledUpdateDragZones","onDragOver","resetDragState","cancel","files","getData","stopPropagation","addEventListener","removeEventListener","DropZoneContextProvider","props","ref","Set","DropContainer","children","DropZoneProvider"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { find, some, filter, includes, throttle } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useRef, useContext } from '@wordpress/element';\nimport { getFilesFromDataTransfer } from '@wordpress/dom';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { useRefEffect } from '@wordpress/compose';\n\nexport const Context = createContext();\n\nconst { Provider } = Context;\n\nfunction getDragEventType( { dataTransfer } ) {\n\tif ( dataTransfer ) {\n\t\t// Use lodash `includes` here as in the Edge browser `types` is implemented\n\t\t// as a DomStringList, whereas in other browsers it's an array. `includes`\n\t\t// happily works with both types.\n\t\tif (\n\t\t\tincludes( dataTransfer.types, 'Files' ) ||\n\t\t\tgetFilesFromDataTransfer( dataTransfer ).length > 0\n\t\t) {\n\t\t\treturn 'file';\n\t\t}\n\n\t\tif ( includes( dataTransfer.types, 'text/html' ) ) {\n\t\t\treturn 'html';\n\t\t}\n\t}\n\n\treturn 'default';\n}\n\nfunction isTypeSupportedByDropZone( type, dropZone ) {\n\treturn Boolean(\n\t\t( type === 'file' && dropZone.onFilesDrop ) ||\n\t\t\t( type === 'html' && dropZone.onHTMLDrop ) ||\n\t\t\t( type === 'default' && dropZone.onDrop )\n\t);\n}\n\nfunction isWithinElementBounds( element, x, y ) {\n\tconst rect = element.getBoundingClientRect();\n\t/// make sure the rect is a valid rect\n\tif ( rect.bottom === rect.top || rect.left === rect.right ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\tx >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom\n\t);\n}\n\nfunction getPosition( event ) {\n\t// In some contexts, it may be necessary to capture and redirect the\n\t// drag event (e.g. atop an `iframe`). To accommodate this, you can\n\t// create an instance of CustomEvent with the original event specified\n\t// as the `detail` property.\n\t//\n\t// See: https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\n\tconst detail =\n\t\twindow.CustomEvent && event instanceof window.CustomEvent\n\t\t\t? event.detail\n\t\t\t: event;\n\n\treturn { x: detail.clientX, y: detail.clientY };\n}\n\nfunction getHoveredDropZone( dropZones, position, dragEventType ) {\n\tconst hoveredDropZones = filter(\n\t\tArray.from( dropZones ),\n\t\t( dropZone ) =>\n\t\t\tisTypeSupportedByDropZone( dragEventType, dropZone ) &&\n\t\t\tisWithinElementBounds(\n\t\t\t\tdropZone.element.current,\n\t\t\t\tposition.x,\n\t\t\t\tposition.y\n\t\t\t)\n\t);\n\n\t// Find the leaf dropzone not containing another dropzone\n\treturn find( hoveredDropZones, ( zone ) => {\n\t\tconst container = zone.isRelative\n\t\t\t? zone.element.current.parentElement\n\t\t\t: zone.element.current;\n\n\t\treturn ! some(\n\t\t\thoveredDropZones,\n\t\t\t( subZone ) =>\n\t\t\t\tsubZone !== zone &&\n\t\t\t\tcontainer.contains( subZone.element.current )\n\t\t);\n\t} );\n}\n\nexport const INITIAL_DROP_ZONE_STATE = {\n\tisDraggingOverDocument: false,\n\tisDraggingOverElement: false,\n\tx: null,\n\ty: null,\n\ttype: null,\n};\n\nexport function useDrop() {\n\tconst dropZones = useContext( Context );\n\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tconst { ownerDocument } = node;\n\t\t\tconst { defaultView } = ownerDocument;\n\n\t\t\tlet lastRelative;\n\n\t\t\tfunction updateDragZones( event ) {\n\t\t\t\tif ( lastRelative && lastRelative.contains( event.target ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst dragEventType = getDragEventType( event );\n\t\t\t\tconst position = getPosition( event );\n\t\t\t\tconst hoveredDropZone = getHoveredDropZone(\n\t\t\t\t\tdropZones,\n\t\t\t\t\tposition,\n\t\t\t\t\tdragEventType\n\t\t\t\t);\n\n\t\t\t\tif ( hoveredDropZone && hoveredDropZone.isRelative ) {\n\t\t\t\t\tlastRelative = hoveredDropZone.element.current.offsetParent;\n\t\t\t\t} else {\n\t\t\t\t\tlastRelative = null;\n\t\t\t\t}\n\n\t\t\t\t// Notifying the dropzones\n\t\t\t\tdropZones.forEach( ( dropZone ) => {\n\t\t\t\t\tconst isDraggingOverDropZone = dropZone === hoveredDropZone;\n\t\t\t\t\tconst newState = {\n\t\t\t\t\t\tisDraggingOverDocument: isTypeSupportedByDropZone(\n\t\t\t\t\t\t\tdragEventType,\n\t\t\t\t\t\t\tdropZone\n\t\t\t\t\t\t),\n\t\t\t\t\t\tisDraggingOverElement: isDraggingOverDropZone,\n\t\t\t\t\t\tx:\n\t\t\t\t\t\t\tisDraggingOverDropZone && dropZone.withPosition\n\t\t\t\t\t\t\t\t? position.x\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\ty:\n\t\t\t\t\t\t\tisDraggingOverDropZone && dropZone.withPosition\n\t\t\t\t\t\t\t\t? position.y\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\ttype: isDraggingOverDropZone ? dragEventType : null,\n\t\t\t\t\t};\n\n\t\t\t\t\tdropZone.setState( ( state ) => {\n\t\t\t\t\t\tif ( isShallowEqual( state, newState ) ) {\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn newState;\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tconst throttledUpdateDragZones = throttle( updateDragZones, 200 );\n\n\t\t\tfunction onDragOver( event ) {\n\t\t\t\tthrottledUpdateDragZones( event );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tfunction resetDragState() {\n\t\t\t\t// Avoid throttled drag over handler calls\n\t\t\t\tthrottledUpdateDragZones.cancel();\n\n\t\t\t\tdropZones.forEach( ( dropZone ) =>\n\t\t\t\t\tdropZone.setState( INITIAL_DROP_ZONE_STATE )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction onDrop( event ) {\n\t\t\t\t// This seemingly useless line has been shown to resolve a Safari issue\n\t\t\t\t// where files dragged directly from the dock are not recognized\n\t\t\t\tevent.dataTransfer && event.dataTransfer.files.length; // eslint-disable-line no-unused-expressions\n\n\t\t\t\tconst dragEventType = getDragEventType( event );\n\t\t\t\tconst position = getPosition( event );\n\t\t\t\tconst hoveredDropZone = getHoveredDropZone(\n\t\t\t\t\tdropZones,\n\t\t\t\t\tposition,\n\t\t\t\t\tdragEventType\n\t\t\t\t);\n\n\t\t\t\tresetDragState();\n\n\t\t\t\tif ( hoveredDropZone ) {\n\t\t\t\t\tswitch ( dragEventType ) {\n\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\thoveredDropZone.onFilesDrop(\n\t\t\t\t\t\t\t\tgetFilesFromDataTransfer( event.dataTransfer ),\n\t\t\t\t\t\t\t\tposition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'html':\n\t\t\t\t\t\t\thoveredDropZone.onHTMLDrop(\n\t\t\t\t\t\t\t\tevent.dataTransfer.getData( 'text/html' ),\n\t\t\t\t\t\t\t\tposition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'default':\n\t\t\t\t\t\t\thoveredDropZone.onDrop( event, position );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tnode.addEventListener( 'drop', onDrop );\n\t\t\tdefaultView.addEventListener( 'dragover', onDragOver );\n\t\t\tdefaultView.addEventListener( 'mouseup', resetDragState );\n\t\t\t// Note that `dragend` doesn't fire consistently for file and HTML drag\n\t\t\t// events where the drag origin is outside the browser window.\n\t\t\t// In Firefox it may also not fire if the originating node is removed.\n\t\t\tdefaultView.addEventListener( 'dragend', resetDragState );\n\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener( 'drop', onDrop );\n\t\t\t\tdefaultView.removeEventListener( 'dragover', onDragOver );\n\t\t\t\tdefaultView.removeEventListener( 'mouseup', resetDragState );\n\t\t\t\tdefaultView.removeEventListener( 'dragend', resetDragState );\n\t\t\t};\n\t\t},\n\t\t[ dropZones ]\n\t);\n}\n\nexport function DropZoneContextProvider( props ) {\n\tconst ref = useRef( new Set( [] ) );\n\treturn <Provider { ...props } value={ ref.current } />;\n}\n\nfunction DropContainer( { children } ) {\n\tconst ref = useDrop();\n\treturn (\n\t\t<div ref={ ref } className=\"components-drop-zone__provider\">\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default function DropZoneProvider( { children } ) {\n\treturn (\n\t\t<DropZoneContextProvider>\n\t\t\t<DropContainer>{ children }</DropContainer>\n\t\t</DropZoneContextProvider>\n\t);\n}\n"]}