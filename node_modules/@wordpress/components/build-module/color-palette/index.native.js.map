{"version":3,"sources":["@wordpress/components/src/color-palette/index.native.js"],"names":["ScrollView","TouchableWithoutFeedback","View","Animated","Easing","Dimensions","Platform","Text","map","uniq","__","useRef","useEffect","useState","usePreferredColorSchemeStyle","styles","ColorIndicator","colorsUtils","ANIMATION_DURATION","contentWidth","scrollPosition","customIndicatorWidth","ColorPalette","setColor","activeColor","isGradientColor","defaultSettings","currentSegment","onCustomPress","shouldEnableBottomSheetScroll","shouldShowCustomIndicatorOption","shouldShowCustomLabel","shouldShowCustomVerticalSeparator","customColorIndicatorStyles","customIndicatorWrapperStyles","customSwatchGradients","isCustomGradientColor","isSelectedCustom","isGradientSegment","shouldShowCustomIndicator","setShouldShowCustomIndicator","scrollViewRef","isIOS","OS","segments","scale","Value","current","opacity","defaultColors","colors","defaultGradientColors","gradients","customIndicatorColor","accessibilityHint","customText","scrollToEnd","scrollTo","x","y","isWithinColors","includes","isSelected","color","timingAnimation","property","toValue","timing","duration","easing","ease","useNativeDriver","performAnimation","setValue","parallel","start","scaleInterpolation","interpolate","inputRange","outputRange","deselectCustomGradient","get","width","isVisible","onColorPress","onContentSizeChange","animated","onCustomIndicatorLayout","nativeEvent","layout","onScroll","contentOffset","verticalSeparatorStyle","verticalSeparator","verticalSeparatorDark","customTextStyle","customTextAndroid","customTextDark","customIndicatorWrapperStyle","customIndicatorWrapper","contentContainer","container","scaleValue","selected","transform","colorIndicator","toUpperCase"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tScrollView,\n\tTouchableWithoutFeedback,\n\tView,\n\tAnimated,\n\tEasing,\n\tDimensions,\n\tPlatform,\n\tText,\n} from 'react-native';\nimport { map, uniq } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useEffect, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport ColorIndicator from '../color-indicator';\nimport { colorsUtils } from '../mobile/color-settings/utils';\n\nconst ANIMATION_DURATION = 200;\n\nlet contentWidth = 0;\nlet scrollPosition = 0;\nlet customIndicatorWidth = 0;\n\nfunction ColorPalette( {\n\tsetColor,\n\tactiveColor,\n\tisGradientColor,\n\tdefaultSettings,\n\tcurrentSegment,\n\tonCustomPress,\n\tshouldEnableBottomSheetScroll,\n\tshouldShowCustomIndicatorOption = true,\n\tshouldShowCustomLabel = true,\n\tshouldShowCustomVerticalSeparator = true,\n\tcustomColorIndicatorStyles,\n\tcustomIndicatorWrapperStyles,\n} ) {\n\tconst customSwatchGradients = [\n\t\t'linear-gradient(120deg, rgba(255,0,0,.8) 0%, rgba(255,255,255,1) 70.71%)',\n\t\t'linear-gradient(240deg, rgba(0,255,0,.8) 0%, rgba(0,255,0,0) 70.71%)',\n\t\t'linear-gradient(360deg, rgba(0,0,255,.8) 0%, rgba(0,0,255,0) 70.71%)',\n\t];\n\tconst isCustomGradientColor = isGradientColor && isSelectedCustom();\n\n\tconst [\n\t\tshouldShowCustomIndicator,\n\t\tsetShouldShowCustomIndicator,\n\t] = useState(\n\t\tshouldShowCustomIndicatorOption &&\n\t\t\t( ! isGradientSegment || isCustomGradientColor )\n\t);\n\n\tconst scrollViewRef = useRef();\n\tconst isIOS = Platform.OS === 'ios';\n\n\tconst isGradientSegment = currentSegment === colorsUtils.segments[ 1 ];\n\n\tconst scale = useRef( new Animated.Value( 1 ) ).current;\n\tconst opacity = useRef( new Animated.Value( 1 ) ).current;\n\n\tconst defaultColors = uniq( map( defaultSettings.colors, 'color' ) );\n\tconst defaultGradientColors = uniq(\n\t\tmap( defaultSettings.gradients, 'gradient' )\n\t);\n\tconst colors = isGradientSegment ? defaultGradientColors : defaultColors;\n\n\tconst customIndicatorColor = isGradientSegment\n\t\t? activeColor\n\t\t: customSwatchGradients;\n\n\tuseEffect( () => {\n\t\tsetShouldShowCustomIndicator(\n\t\t\tshouldShowCustomIndicatorOption &&\n\t\t\t\t( ! isGradientSegment || isCustomGradientColor )\n\t\t);\n\t}, [\n\t\tshouldShowCustomIndicatorOption,\n\t\tisGradientSegment,\n\t\tisCustomGradientColor,\n\t] );\n\n\tconst accessibilityHint = isGradientSegment\n\t\t? __( 'Navigates to customize the gradient' )\n\t\t: __( 'Navigates to custom color picker' );\n\tconst customText = __( 'Custom' );\n\n\tuseEffect( () => {\n\t\tif ( scrollViewRef.current ) {\n\t\t\tif ( isSelectedCustom() ) {\n\t\t\t\tscrollViewRef.current.scrollToEnd();\n\t\t\t} else {\n\t\t\t\tscrollViewRef.current.scrollTo( { x: 0, y: 0 } );\n\t\t\t}\n\t\t}\n\t}, [ currentSegment ] );\n\n\tfunction isSelectedCustom() {\n\t\tconst isWithinColors =\n\t\t\tactiveColor && colors && colors.includes( activeColor );\n\t\tif ( activeColor ) {\n\t\t\tif ( isGradientSegment ) {\n\t\t\t\treturn isGradientColor && ! isWithinColors;\n\t\t\t}\n\t\t\treturn ! isGradientColor && ! isWithinColors;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction isSelected( color ) {\n\t\treturn ! isSelectedCustom() && activeColor === color;\n\t}\n\n\tfunction timingAnimation( property, toValue ) {\n\t\treturn Animated.timing( property, {\n\t\t\ttoValue,\n\t\t\tduration: ANIMATION_DURATION,\n\t\t\teasing: Easing.ease,\n\t\t\tuseNativeDriver: true,\n\t\t} );\n\t}\n\n\tfunction performAnimation( color ) {\n\t\tif ( ! isSelected( color ) ) {\n\t\t\topacity.setValue( 0 );\n\t\t}\n\n\t\tAnimated.parallel( [\n\t\t\ttimingAnimation( scale, 2 ),\n\t\t\ttimingAnimation( opacity, 1 ),\n\t\t] ).start( () => {\n\t\t\topacity.setValue( 1 );\n\t\t\tscale.setValue( 1 );\n\t\t} );\n\t}\n\n\tconst scaleInterpolation = scale.interpolate( {\n\t\tinputRange: [ 1, 1.5, 2 ],\n\t\toutputRange: [ 1, 0.7, 1 ],\n\t} );\n\n\tfunction deselectCustomGradient() {\n\t\tconst { width } = Dimensions.get( 'window' );\n\t\tconst isVisible =\n\t\t\tcontentWidth - scrollPosition - customIndicatorWidth < width;\n\n\t\tif ( isCustomGradientColor ) {\n\t\t\tif ( ! isIOS ) {\n\t\t\t\t// Scroll position on Android doesn't adjust automatically when removing the last item from the horizontal list.\n\t\t\t\t// https://github.com/facebook/react-native/issues/27504\n\t\t\t\t// Workaround: Force the scroll when deselecting custom gradient color and when custom indicator is visible on layout.\n\t\t\t\tif (\n\t\t\t\t\tisCustomGradientColor &&\n\t\t\t\t\tisVisible &&\n\t\t\t\t\tscrollViewRef.current\n\t\t\t\t) {\n\t\t\t\t\tscrollViewRef.current.scrollTo( {\n\t\t\t\t\t\tx: scrollPosition - customIndicatorWidth,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onColorPress( color ) {\n\t\tdeselectCustomGradient();\n\t\tperformAnimation( color );\n\t\tsetColor( color );\n\t}\n\n\tfunction onContentSizeChange( width ) {\n\t\tcontentWidth = width;\n\t\tif ( isSelectedCustom() && scrollViewRef.current ) {\n\t\t\tscrollViewRef.current.scrollToEnd( { animated: ! isIOS } );\n\t\t}\n\t}\n\n\tfunction onCustomIndicatorLayout( { nativeEvent } ) {\n\t\tconst { width } = nativeEvent.layout;\n\t\tif ( width !== customIndicatorWidth ) {\n\t\t\tcustomIndicatorWidth = width;\n\t\t}\n\t}\n\n\tfunction onScroll( { nativeEvent } ) {\n\t\tscrollPosition = nativeEvent.contentOffset.x;\n\t}\n\n\tconst verticalSeparatorStyle = usePreferredColorSchemeStyle(\n\t\tstyles.verticalSeparator,\n\t\tstyles.verticalSeparatorDark\n\t);\n\n\tconst customTextStyle = usePreferredColorSchemeStyle(\n\t\t[ styles.customText, ! isIOS && styles.customTextAndroid ],\n\t\tstyles.customTextDark\n\t);\n\n\tconst customIndicatorWrapperStyle = [\n\t\tstyles.customIndicatorWrapper,\n\t\tcustomIndicatorWrapperStyles,\n\t];\n\n\treturn (\n\t\t<ScrollView\n\t\t\tcontentContainerStyle={ styles.contentContainer }\n\t\t\tstyle={ styles.container }\n\t\t\thorizontal\n\t\t\tshowsHorizontalScrollIndicator={ false }\n\t\t\tkeyboardShouldPersistTaps=\"always\"\n\t\t\tdisableScrollViewPanResponder\n\t\t\tscrollEventThrottle={ 16 }\n\t\t\tonScroll={ onScroll }\n\t\t\tonContentSizeChange={ onContentSizeChange }\n\t\t\tonScrollBeginDrag={ () => shouldEnableBottomSheetScroll( false ) }\n\t\t\tonScrollEndDrag={ () => shouldEnableBottomSheetScroll( true ) }\n\t\t\tref={ scrollViewRef }\n\t\t>\n\t\t\t{ colors.map( ( color ) => {\n\t\t\t\tconst scaleValue = isSelected( color ) ? scaleInterpolation : 1;\n\t\t\t\treturn (\n\t\t\t\t\t<View key={ `${ color }-${ isSelected( color ) }` }>\n\t\t\t\t\t\t<TouchableWithoutFeedback\n\t\t\t\t\t\t\tonPress={ () => onColorPress( color ) }\n\t\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\t\taccessibilityState={ {\n\t\t\t\t\t\t\t\tselected: isSelected( color ),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taccessibilityHint={ color }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Animated.View\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tscale: scaleValue,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\tcolor={ color }\n\t\t\t\t\t\t\t\t\tisSelected={ isSelected( color ) }\n\t\t\t\t\t\t\t\t\topacity={ opacity }\n\t\t\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\t\t\tstyles.colorIndicator,\n\t\t\t\t\t\t\t\t\t\tcustomColorIndicatorStyles,\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Animated.View>\n\t\t\t\t\t\t</TouchableWithoutFeedback>\n\t\t\t\t\t</View>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ shouldShowCustomIndicator && (\n\t\t\t\t<View\n\t\t\t\t\tstyle={ customIndicatorWrapperStyle }\n\t\t\t\t\tonLayout={ onCustomIndicatorLayout }\n\t\t\t\t>\n\t\t\t\t\t{ shouldShowCustomVerticalSeparator && (\n\t\t\t\t\t\t<View style={ verticalSeparatorStyle } />\n\t\t\t\t\t) }\n\t\t\t\t\t<TouchableWithoutFeedback\n\t\t\t\t\t\tonPress={ onCustomPress }\n\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\taccessibilityState={ {\n\t\t\t\t\t\t\tselected: isSelectedCustom(),\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taccessibilityHint={ accessibilityHint }\n\t\t\t\t\t>\n\t\t\t\t\t\t<View style={ customIndicatorWrapperStyle }>\n\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\twithCustomPicker={ ! isGradientSegment }\n\t\t\t\t\t\t\t\tcolor={ customIndicatorColor }\n\t\t\t\t\t\t\t\tisSelected={ isSelectedCustom() }\n\t\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\t\tstyles.colorIndicator,\n\t\t\t\t\t\t\t\t\tcustomColorIndicatorStyles,\n\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ shouldShowCustomLabel && (\n\t\t\t\t\t\t\t\t<Text style={ customTextStyle }>\n\t\t\t\t\t\t\t\t\t{ isIOS\n\t\t\t\t\t\t\t\t\t\t? customText\n\t\t\t\t\t\t\t\t\t\t: customText.toUpperCase() }\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</TouchableWithoutFeedback>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</ScrollView>\n\t);\n}\n\nexport default ColorPalette;\n"]}