{"version":3,"sources":["@wordpress/dom/src/dom/is-entirely-selected.js"],"names":["isEntirelySelected","element","nodeName","selectionStart","value","length","selectionEnd","isContentEditable","ownerDocument","defaultView","selection","getSelection","range","rangeCount","getRangeAt","startContainer","endContainer","startOffset","endOffset","childNodes","lastChild","lastChildContentLength","nodeType","TEXT_NODE","data","firstChild"],"mappings":";;;;;;;AAGA;;AAHA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,kBAAT,CAA6BC,OAA7B,EAAuC;AACrD,MAAK,sBAAU,CAAE,OAAF,EAAW,UAAX,CAAV,EAAmCA,OAAO,CAACC,QAA3C,CAAL,EAA6D;AAC5D,WACCD,OAAO,CAACE,cAAR,KAA2B,CAA3B,IACAF,OAAO,CAACG,KAAR,CAAcC,MAAd,KAAyBJ,OAAO,CAACK,YAFlC;AAIA;;AAED,MAAK,CAAEL,OAAO,CAACM,iBAAf,EAAmC;AAClC,WAAO,IAAP;AACA;;AAVoD,MAY7CC,aAZ6C,GAY3BP,OAZ2B,CAY7CO,aAZ6C;AAAA,MAa7CC,WAb6C,GAa7BD,aAb6B,CAa7CC,WAb6C;AAcrD,MAAMC,SAAS,GAAGD,WAAW,CAACE,YAAZ,EAAlB;AACA,MAAMC,KAAK,GAAGF,SAAS,CAACG,UAAV,GAAuBH,SAAS,CAACI,UAAV,CAAsB,CAAtB,CAAvB,GAAmD,IAAjE;;AAEA,MAAK,CAAEF,KAAP,EAAe;AACd,WAAO,IAAP;AACA;;AAnBoD,MAqB7CG,cArB6C,GAqBYH,KArBZ,CAqB7CG,cArB6C;AAAA,MAqB7BC,YArB6B,GAqBYJ,KArBZ,CAqB7BI,YArB6B;AAAA,MAqBfC,WArBe,GAqBYL,KArBZ,CAqBfK,WArBe;AAAA,MAqBFC,SArBE,GAqBYN,KArBZ,CAqBFM,SArBE;;AAuBrD,MACCH,cAAc,KAAKd,OAAnB,IACAe,YAAY,KAAKf,OADjB,IAEAgB,WAAW,KAAK,CAFhB,IAGAC,SAAS,KAAKjB,OAAO,CAACkB,UAAR,CAAmBd,MAJlC,EAKE;AACD,WAAO,IAAP;AACA;;AAED,MAAMe,SAAS,GAAGnB,OAAO,CAACmB,SAA1B;AACA,MAAMC,sBAAsB,GAC3BD,SAAS,CAACE,QAAV,KAAuBF,SAAS,CAACG,SAAjC,GACGH,SAAS,CAACI,IAAV,CAAenB,MADlB,GAEGe,SAAS,CAACD,UAAV,CAAqBd,MAHzB;AAKA,SACCU,cAAc,KAAKd,OAAO,CAACwB,UAA3B,IACAT,YAAY,KAAKf,OAAO,CAACmB,SADzB,IAEAH,WAAW,KAAK,CAFhB,IAGAC,SAAS,KAAKG,sBAJf;AAMA","sourcesContent":["/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if entirely selected, false if not.\n */\nexport default function isEntirelySelected( element ) {\n\tif ( includes( [ 'INPUT', 'TEXTAREA' ], element.nodeName ) ) {\n\t\treturn (\n\t\t\telement.selectionStart === 0 &&\n\t\t\telement.value.length === element.selectionEnd\n\t\t);\n\t}\n\n\tif ( ! element.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst { ownerDocument } = element;\n\tconst { defaultView } = ownerDocument;\n\tconst selection = defaultView.getSelection();\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn true;\n\t}\n\n\tconst { startContainer, endContainer, startOffset, endOffset } = range;\n\n\tif (\n\t\tstartContainer === element &&\n\t\tendContainer === element &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === element.childNodes.length\n\t) {\n\t\treturn true;\n\t}\n\n\tconst lastChild = element.lastChild;\n\tconst lastChildContentLength =\n\t\tlastChild.nodeType === lastChild.TEXT_NODE\n\t\t\t? lastChild.data.length\n\t\t\t: lastChild.childNodes.length;\n\n\treturn (\n\t\tstartContainer === element.firstChild &&\n\t\tendContainer === element.lastChild &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === lastChildContentLength\n\t);\n}\n"]}