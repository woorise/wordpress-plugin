import _taggedTemplateLiteralLoose from "@babel/runtime/helpers/esm/taggedTemplateLiteralLoose";

function _templateObject8() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\tcolor: red;\n\t\t\t", " {\n\t\t\t\tcolor: blue;\n\t\t\t}\n\t\t"]);

  _templateObject8 = function () {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\tcolor: red;\n\t\t\t", " {\n\t\t\t\tcolor: blue;\n\t\t\t}\n\t\t"]);

  _templateObject7 = function () {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\t", " {\n\t\t\t\tcolor: blue;\n\t\t\t}\n\t\t"]);

  _templateObject6 = function () {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteralLoose([""]);

  _templateObject5 = function () {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\tcolor: red;\n\t\t\t", " {\n\t\t\t\tcolor: blue;\n\t\t\t}\n\t\t"]);

  _templateObject4 = function () {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteralLoose([""]);

  _templateObject3 = function () {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\tcolor: red;\n\t\t\t", " {\n\t\t\t\tcolor: blue;\n\t\t\t}\n\t\t"]);

  _templateObject2 = function () {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteralLoose(["\n\t\t\tbackground-color: blue;\n\t\t"]);

  _templateObject = function () {
    return data;
  };

  return data;
}

import { render } from '@testing-library/react';
import { contextConnect, useContextSystem } from '@wp-g2/context';
import React from 'react';
import { css, getScaleStyles } from '../css';
import { space } from '../mixins/space';
import { styled } from '../system';
describe('css', function () {
  var getLastAppliedCssRule = function () {
    var styles = document.getElementsByTagName('style');
    var lastSheet = Array.from(styles).slice(-1)[0];
    var rules = Array.from(lastSheet.sheet.cssRules);
    return rules.slice(-1)[0];
  };

  beforeEach(function () {
    // clean up generated styles and elements
    document.head.innerHTML = '';
  });
  it('should interpolate styled components from core components', function () {
    var StyledA = styled.div(_templateObject());
    var classes = css(_templateObject2(), StyledA);
    var rule = getLastAppliedCssRule();

    var _render = render( /*#__PURE__*/React.createElement("div", {
      className: classes
    }, /*#__PURE__*/React.createElement(StyledA, null))),
        container = _render.container;

    var styledA = container.firstChild.firstChild;
    expect(styledA.matches(rule.selectorText)).toBe(true);
  });
  it('should interpolate styled components', function () {
    var StyledComponent = styled(function Component(_ref) {
      var className = _ref.className;
      return /*#__PURE__*/React.createElement("div", {
        className: className
      });
    })(_templateObject3());
    var classes = css(_templateObject4(), StyledComponent);
    var rule = getLastAppliedCssRule();

    var _render2 = render( /*#__PURE__*/React.createElement("div", {
      className: classes
    }, /*#__PURE__*/React.createElement(StyledComponent, null))),
        container = _render2.container;

    var styledComponent = container.firstChild.firstChild;
    expect(styledComponent.matches(rule.selectorText)).toBe(true);
  });
  it('should interpolate styled components inside of styled component styles', function () {
    var StyledA = styled.div(_templateObject5());
    var StyledB = styled.div(_templateObject6(), StyledA);

    var _render3 = render( /*#__PURE__*/React.createElement(StyledB, null, /*#__PURE__*/React.createElement(StyledA, null))),
        container = _render3.container;

    var rule = getLastAppliedCssRule();
    var styledA = container.firstChild.firstChild;
    expect(styledA.matches(rule.selectorText)).toBe(true);
  });
  it('should interpolate context-connected components', function () {
    var Connected = contextConnect(function TestConnectedStyledComponent(props, forwardedRef) {
      var connectedProps = useContextSystem(props, 'TestConnectedStyledComponent');
      return /*#__PURE__*/React.createElement("div", Object.assign({}, connectedProps, {
        ref: forwardedRef
      }));
    }, 'TestConnectedStyledComponent');
    var classes = css(_templateObject7(), Connected);
    var rule = getLastAppliedCssRule();

    var _render4 = render( /*#__PURE__*/React.createElement("div", {
      className: classes
    }, /*#__PURE__*/React.createElement(Connected, null))),
        container = _render4.container;

    var connected = container.firstChild.firstChild;
    expect(connected.matches(rule.selectorText)).toBe(true);
  });
  it('should interpolate context-connected-components in styled', function () {
    var Connected = contextConnect(function TestConnectedStyledComponent(props, forwardedRef) {
      var connectedProps = useContextSystem(props, 'TestConnectedStyledComponent');
      return /*#__PURE__*/React.createElement("div", Object.assign({}, connectedProps, {
        ref: forwardedRef
      }));
    }, 'TestConnectedStyledComponent');
    var Container = styled.div(_templateObject8(), Connected);

    var _render5 = render( /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Connected, null))),
        container = _render5.container;

    var rule = getLastAppliedCssRule();
    var connected = container.firstChild.firstChild;
    expect(connected.matches(rule.selectorText)).toBe(true);
  });
});
describe('scales', function () {
  test('should transform space values', function () {
    var numberValues = {
      gridGap: 4,
      gridColumnGap: 4,
      gridRowGap: 4,
      gap: 4,
      columnGap: 4,
      rowGap: 4
    };

    for (var key in numberValues) {
      var value = numberValues[key];
      var assert = {};
      var result = {};
      assert[key] = value;
      result[key] = space(value);
      expect(getScaleStyles(assert)).toEqual(result);
    }

    var stringValues = {
      gridGap: '6px',
      gridColumnGap: '6px',
      gridRowGap: '6px',
      gap: '6px',
      columnGap: '6px',
      rowGap: '6px'
    };

    for (var _key in stringValues) {
      var _value = stringValues[_key];
      var _assert = {};
      var _result = {};
      _assert[_key] = _value;
      _result[_key] = space(_value);
      expect(getScaleStyles(_assert)).toEqual(_result);
    }
  });
});