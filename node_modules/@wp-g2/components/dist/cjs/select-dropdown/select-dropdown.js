"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _context = require("@wp-g2/context");

var _react = _interopRequireDefault(require("react"));

var _Dropdown = require("../Dropdown");

var _Portal = require("../Portal");

var _Select = require("../Select");

var _Truncate = require("../Truncate");

var _View = require("../View");

var _selectDropdownItem = _interopRequireDefault(require("./select-dropdown-item"));

var _selectDropdownLabel = _interopRequireDefault(require("./select-dropdown-label"));

var _useSelectDropdown2 = require("./use-select-dropdown");

function SelectDropdown(props, forwardedRef) {
  var _useSelectDropdown = (0, _useSelectDropdown2.useSelectDropdown)(props),
      dropdownMenuProps = _useSelectDropdown.dropdownMenuProps,
      hideLabelFromVision = _useSelectDropdown.hideLabelFromVision,
      isOpen = _useSelectDropdown.isOpen,
      items = _useSelectDropdown.items,
      label = _useSelectDropdown.label,
      labelProps = _useSelectDropdown.labelProps,
      menuProps = _useSelectDropdown.menuProps,
      placeholder = _useSelectDropdown.placeholder,
      popoverProps = _useSelectDropdown.popoverProps,
      popoverRef = _useSelectDropdown.popoverRef,
      referenceProps = _useSelectDropdown.referenceProps,
      referenceRef = _useSelectDropdown.referenceRef,
      resizer = _useSelectDropdown.resizer,
      otherProps = (0, _objectWithoutProperties2.default)(_useSelectDropdown, ["dropdownMenuProps", "hideLabelFromVision", "isOpen", "items", "label", "labelProps", "menuProps", "placeholder", "popoverProps", "popoverRef", "referenceProps", "referenceRef", "resizer"]);

  return /*#__PURE__*/_react.default.createElement(_View.View, Object.assign({}, otherProps, {
    ref: forwardedRef
  }), resizer, /*#__PURE__*/_react.default.createElement(_Select.Select, Object.assign({
    as: "button"
  }, referenceProps), /*#__PURE__*/_react.default.createElement(_Truncate.Truncate, null, referenceProps.children)), /*#__PURE__*/_react.default.createElement(_selectDropdownLabel.default, labelProps), /*#__PURE__*/_react.default.createElement(_Portal.Portal, null, /*#__PURE__*/_react.default.createElement(_View.View, popoverProps, /*#__PURE__*/_react.default.createElement(_Dropdown.DropdownMenuCard, dropdownMenuProps, /*#__PURE__*/_react.default.createElement("div", menuProps, isOpen && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, items.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_selectDropdownItem.default, item);
  })))))));
}

var _default = (0, _context.contextConnect)(SelectDropdown, 'SelectDropdown');

exports.default = _default;